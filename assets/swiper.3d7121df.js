import{am as t,K as e,an as n,ao as a,ap as r,aq as i,F as o,ar as l,i as u,as as s,at as c,au as d,av as p,aw as f,ax as v,ay as g,az as m,N as h,aA as y,aB as w,l as x}from"./index-e77dc938.js";function I(e){return t({},e.dataset,e.__uniDataset)}function M(t){return/^-?\d+[ur]px$/i.test(t)?t.replace(/(^-?\d+)[ur]px$/i,((t,e)=>`${parseFloat(e)}px`)):/^-?[\d\.]+$/.test(t)?`${t}px`:t||""}function b(t){const e=t.animation;if(!e||!e.actions||!e.actions.length)return;let n=0;const a=e.actions,r=e.actions.length;function i(){const e=a[n],o=e.option.transition,l=function(t){const e=["matrix","matrix3d","scale","scale3d","rotate3d","skew","translate","translate3d"],n=["scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","translateX","translateY","translateZ"],a=["opacity","background-color"],r=["width","height","left","right","top","bottom"],i=t.animates,o=t.option,l=o.transition,u={},s=[];return i.forEach((t=>{let i=t.type,o=[...t.args];if(e.concat(n).includes(i))i.startsWith("rotate")||i.startsWith("skew")?o=o.map((t=>parseFloat(t)+"deg")):i.startsWith("translate")&&(o=o.map(M)),n.indexOf(i)>=0&&(o.length=1),s.push(`${i}(${o.join(",")})`);else if(a.concat(r).includes(o[0])){i=o[0];const t=o[1];u[i]=r.includes(i)?M(t):t}})),u.transform=u.webkitTransform=s.join(" "),u.transition=u.webkitTransition=Object.keys(u).map((t=>`${function(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)).replace("webkit","-webkit")}(t)} ${l.duration}ms ${l.timingFunction} ${l.delay}ms`)).join(","),u.transformOrigin=u.webkitTransformOrigin=o.transformOrigin,u}(e);Object.keys(l).forEach((e=>{t.$el.style[e]=l[e]})),n+=1,n<r&&setTimeout(i,o.duration+o.delay)}setTimeout((()=>{i()}),0)}const _={props:["animation"],watch:{animation:{deep:!0,handler(){b(this)}}},mounted(){b(this)}},k=t=>{t.__reserved=!0;const{props:e,mixins:n}=t;return e&&e.animation||(n||(t.mixins=[])).push(_),T(t)},T=t=>(t.__reserved=!0,t.compatConfig={MODE:3},e(t));function S(t,e){return(n,a,r)=>{t.value&&e(n,function(t,e,n,a){let r;return r=n,r=function(t){const{id:e,offsetTop:n,offsetLeft:a}=t;return{id:e,dataset:I(t),offsetTop:n,offsetLeft:a}}(n),{type:a.type||t,timeStamp:e.timeStamp||0,target:r,currentTarget:r,detail:a}}(n,a,t.value,r||{}))}}const C=function(t,e,n,r){t.addEventListener(e,(t=>{a(n)&&!1===n(t)&&((void 0===t.cancelable||t.cancelable)&&t.preventDefault(),t.stopPropagation())}),{passive:!1})};let E,$;function B(t){const e=[];return r(t)&&t.forEach((t=>{i(t)?t.type===o?e.push(...B(t.children)):e.push(t):r(t)&&e.push(...B(t))})),e}function X(t){return-1!==(t+="").indexOf("rpx")||-1!==t.indexOf("upx")}function Y(t,e=!1){if(e)return function(t){if(!X(t))return t;return t.replace(/(\d+(\.\d+)?)[ru]px/g,((t,e)=>parseFloat(e)+"px"))}(t);if(l(t)){const e=parseInt(t)||0;return X(t),e}return t}function D(t,e,a,r,i,o){function l(){d&&(clearTimeout(d),d=null)}let u,s,d=null,p=!0,v=0,h=1,y=null,w=!1,x=0,I="";const M=c((()=>a.value.length>e.displayMultipleItems)),b=c((()=>t.circular&&M.value));function _(n){Math.floor(2*v)===Math.floor(2*n)&&Math.ceil(2*v)===Math.ceil(2*n)||b.value&&function(n){if(!p)for(let r=a.value,i=r.length,o=n+e.displayMultipleItems,l=0;l<i;l++){const e=r[l],a=Math.floor(n/i)*i+l,u=a+i,s=a-i,c=Math.max(n-(a+1),a-o,0),d=Math.max(n-(u+1),u-o,0),p=Math.max(n-(s+1),s-o,0),f=Math.min(c,d,p),v=[a,u,s][[c,d,p].indexOf(f)];e.updatePosition(v,t.vertical)}}(n);const i=`translate(${t.vertical?"0":100*-n*h+"%"}, ${t.vertical?100*-n*h+"%":"0"}) translateZ(0)`,l=r.value;if(l&&(l.style.webkitTransform=i,l.style.transform=i),v=n,!u){if(n%1==0)return;u=n}n-=Math.floor(u);const s=a.value;n<=-(s.length-1)?n+=s.length:n>=s.length&&(n-=s.length),n=u%1>.5||u<0?n-1:n,o("transition",{},{dx:t.vertical?0:n*l.offsetWidth,dy:t.vertical?n*l.offsetHeight:0})}function k(t){const{length:n}=a.value;if(!n)return-1;const r=(Math.round(t)%n+n)%n;if(b.value){if(n<=e.displayMultipleItems)return 0}else if(r>n-e.displayMultipleItems)return n-e.displayMultipleItems;return r}function T(){y=null}function S(){if(!y)return void(w=!1);const t=y,{toPos:n}=t,{acc:r}=t,{endTime:i}=t,{source:l}=t,c=i-Date.now();if(c<=0){_(n),y=null,w=!1,u=null;const t=a.value[e.current];if(t){const n=t.getItemId();o("animationfinish",{},{current:e.current,currentItemId:n,source:l})}return}_(n+r*c*c/2),s=requestAnimationFrame(S)}function B(t,n,r){T();const{duration:i}=e,{length:o}=a.value;let l=v;if(b.value)if(r<0){for(;l<t;)l+=o;for(;l-o>t;)l-=o}else if(r>0){for(;l>t;)l-=o;for(;l+o<t;)l+=o;l+o-t<t-l&&(l+=o)}else{for(;l+o<t;)l+=o;for(;l-o>t;)l-=o;l+o-t<t-l&&(l+=o)}else"click"===n&&(t=t+e.displayMultipleItems-1<o?t:0);y={toPos:t,acc:2*(l-t)/(i*i),endTime:Date.now()+i,source:n},w||(w=!0,s=requestAnimationFrame(S))}function X(){l();const t=a.value,n=function(){d=null,I="autoplay",b.value?e.current=k(e.current+1):e.current=e.current+e.displayMultipleItems<t.length?e.current+1:0,B(e.current,"autoplay",b.value?1:0),d=setTimeout(n,e.interval)};p||t.length<=e.displayMultipleItems||(d=setTimeout(n,e.interval))}function Y(t){t?X():l()}return g([()=>t.current,()=>t.currentItemId,()=>[...a.value]],(()=>{let n=-1;if(t.currentItemId)for(let e=0,r=a.value;e<r.length;e++){if(r[e].getItemId()===t.currentItemId){n=e;break}}n<0&&(n=Math.round(t.current)||0),n=n<0?0:n,e.current!==n&&(I="",e.current=n)})),g([()=>t.vertical,()=>b.value,()=>e.displayMultipleItems,()=>[...a.value]],(function(){l(),y&&(_(y.toPos),y=null);const n=a.value;for(let e=0;e<n.length;e++)n[e].updatePosition(e,t.vertical);h=1;const i=r.value;if(1===e.displayMultipleItems&&n.length){const t=n[0].getBoundingClientRect(),e=i.getBoundingClientRect();h=t.width/e.width,h>0&&h<1||(h=1)}const o=v;v=-2;const{current:u}=e;u>=0?(p=!1,e.userTracking?(_(o+u-x),x=u):(_(u),t.autoplay&&X())):(p=!0,_(-e.displayMultipleItems-1))})),g((()=>e.interval),(()=>{d&&(l(),X())})),g((()=>e.current),((t,n)=>{!function(t,n){const r=I;I="";const i=a.value;if(!r){const{length:e}=i;B(t,"",b.value&&n+(e-t)%e>e/2?1:0)}const l=i[t];if(l){e.currentItemId=l.getItemId();const{currentItemId:t}=e;o("change",{},{current:e.current,currentItemId:t,source:r})}}(t,n),i("update:current",t)})),g((()=>e.currentItemId),(t=>{i("update:currentItemId",t)})),g((()=>t.autoplay&&!e.userTracking),Y),Y(t.autoplay&&!e.userTracking),f((()=>{let i=!1,o=0,u=0;function s(t){e.userTracking=!1;const n=o/Math.abs(o);let a=0;!t&&Math.abs(o)>.2&&(a=.5*n);const r=k(v+a);t?_(x):(I="touch",e.current=r,B(r,"touch",0!==a?a:0===r&&b.value&&v>=1?1:0))}!function(t,e){n((()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",$)}));let a=0,r=0,i=0,o=0;const l=function(t,n,l,u){if(!1===e({cancelable:t.cancelable,target:t.target,currentTarget:t.currentTarget,preventDefault:t.preventDefault.bind(t),stopPropagation:t.stopPropagation.bind(t),touches:t.touches,changedTouches:t.changedTouches,detail:{state:n,x:l,y:u,dx:l-a,dy:u-r,ddx:l-i,ddy:u-o,timeStamp:t.timeStamp}}))return!1};let u,s,c=null;C(t,"touchstart",(function(t){if(u=!0,1===t.touches.length&&!c)return c=t,a=i=t.touches[0].pageX,r=o=t.touches[0].pageY,l(t,"start",a,r)})),C(t,"mousedown",(function(t){if(s=!0,!u&&!c)return c=t,a=i=t.pageX,r=o=t.pageY,l(t,"start",a,r)})),C(t,"touchmove",(function(t){if(1===t.touches.length&&c){const e=l(t,"move",t.touches[0].pageX,t.touches[0].pageY);return i=t.touches[0].pageX,o=t.touches[0].pageY,e}}));const d=E=function(t){if(!u&&s&&c){const e=l(t,"move",t.pageX,t.pageY);return i=t.pageX,o=t.pageY,e}};document.addEventListener("mousemove",d),C(t,"touchend",(function(t){if(0===t.touches.length&&c)return u=!1,c=null,l(t,"end",t.changedTouches[0].pageX,t.changedTouches[0].pageY)}));const p=$=function(t){if(s=!1,!u&&c)return c=null,l(t,"end",t.pageX,t.pageY)};document.addEventListener("mouseup",p),C(t,"touchcancel",(function(t){if(c){u=!1;const e=c;return c=null,l(t,"end",e.touches[0].pageX,e.touches[0].pageY)}}))}(r.value,(n=>{if(!t.disableTouch&&!p){if("start"===n.detail.state)return e.userTracking=!0,i=!1,l(),x=v,o=0,u=Date.now(),void T();if("end"===n.detail.state)return s(!1);if("cancel"===n.detail.state)return s(!0);if(e.userTracking){if(!i){i=!0;const a=Math.abs(n.detail.dx),r=Math.abs(n.detail.dy);if((a>=r&&t.vertical||a<=r&&!t.vertical)&&(e.userTracking=!1),!e.userTracking)return void(t.autoplay&&X())}return function(n){const i=u;u=Date.now();const{length:l}=a.value,s=l-e.displayMultipleItems;function c(t){return.5-.25/(t+.5)}function d(t,e){let n=x+t;o=.6*o+.4*e,b.value||(n<0||n>s)&&(n<0?n=-c(-n):n>s&&(n=s+c(n-s)),o=0),_(n)}const p=u-i||1,f=r.value;t.vertical?d(-n.dy/f.offsetHeight,-n.ddy/p):d(-n.dx/f.offsetWidth,-n.ddx/p)}(n.detail),!1}}}))})),m((()=>{l(),cancelAnimationFrame(s)})),{onSwiperDotClick:function(t){B(e.current=t,I="click",b.value?1:0)},circularEnabled:b,swiperEnabled:M}}const L=k({name:"Swiper",props:{indicatorDots:{type:[Boolean,String],default:!1},vertical:{type:[Boolean,String],default:!1},autoplay:{type:[Boolean,String],default:!1},circular:{type:[Boolean,String],default:!1},interval:{type:[Number,String],default:5e3},duration:{type:[Number,String],default:500},current:{type:[Number,String],default:0},indicatorColor:{type:String,default:""},indicatorActiveColor:{type:String,default:""},previousMargin:{type:String,default:""},nextMargin:{type:String,default:""},currentItemId:{type:String,default:""},skipHiddenItemLayout:{type:[Boolean,String],default:!1},displayMultipleItems:{type:[Number,String],default:1},disableTouch:{type:[Boolean,String],default:!1},navigation:{type:[Boolean,String],default:!1},navigationColor:{type:String,default:"#fff"},navigationActiveColor:{type:String,default:"rgba(53, 53, 53, 0.6)"}},emits:["change","transition","animationfinish","update:current","update:currentItemId"],setup(t,{slots:e,emit:n}){const a=s(null),r=S(a,n),i=s(null),o=s(null),l=function(t){const e=c((()=>{const e=Number(t.interval);return isNaN(e)?5e3:e})),n=c((()=>{const e=Number(t.duration);return isNaN(e)?500:e})),a=c((()=>{const e=Math.round(t.displayMultipleItems);return isNaN(e)?1:e}));return v({interval:e,duration:n,displayMultipleItems:a,current:Math.round(t.current)||0,currentItemId:t.currentItemId,userTracking:!1})}(t),p=c((()=>{let e={};return(t.nextMargin||t.previousMargin)&&(e=t.vertical?{left:0,right:0,top:Y(t.previousMargin,!0),bottom:Y(t.nextMargin,!0)}:{top:0,bottom:0,left:Y(t.previousMargin,!0),right:Y(t.nextMargin,!0)}),e})),f=c((()=>{const e=`${Math.abs(100/l.displayMultipleItems)}%`;return{width:t.vertical?"100%":e,height:t.vertical?e:"100%"}}));let g=[];const m=[],h=s([]);function w(){const t=[];for(let e=0;e<g.length;e++){let n=g[e];n instanceof Element||(n=n.el);const a=m.find((t=>n===t.rootRef.value));a&&t.push(y(a))}h.value=t}d("addSwiperContext",(function(t){m.push(t),w()}));d("removeSwiperContext",(function(t){const e=m.indexOf(t);e>=0&&(m.splice(e,1),w())}));const{onSwiperDotClick:x,circularEnabled:I,swiperEnabled:M}=D(t,l,h,o,n,r);let b=()=>null;return b=N(a,t,l,x,h,I,M),()=>{const n=e.default&&e.default();return g=B(n),u("div",{ref:a,class:"swiper-next"},[u("div",{ref:i,class:"swiper-next__wrapper"},[u("div",{class:"swiper-next__slides",style:p.value},[u("div",{ref:o,class:"swiper-next__slide-frame",style:f.value},[n])]),t.indicatorDots&&u("div",{class:["swiper-next__dots",t.vertical?"swiper-next__dots-vertical":"swiper-next__dots-horizontal"]},[h.value.map(((e,n,a)=>u("div",{onClick:()=>x(n),class:{"swiper-next__dot":!0,"swiper-next__dot-active":n<l.current+l.displayMultipleItems&&n>=l.current||n<l.current+l.displayMultipleItems-a.length},style:{background:n===l.current?t.indicatorActiveColor:t.indicatorColor}},null)))]),b()])])}}}),N=(e,n,a,r,i,l,c)=>{let d=!1,v=!1,g=!1;const m=s(!1);function y(t,e){const a=t.currentTarget;a&&(a.style.backgroundColor="over"===e?n.navigationActiveColor:"")}p((()=>{d="auto"===n.navigation,m.value=!0!==n.navigation||d,k()})),p((()=>{const t=i.value.length,e=!l.value;v=0===a.current&&e,g=a.current===t-1&&e||e&&a.current+a.displayMultipleItems>=t,c.value||(v=!0,g=!0,d&&(m.value=!0))}));const w={onMouseover:t=>y(t,"over"),onMouseout:t=>y(t,"out")};function x(t,e,n){if(t.stopPropagation(),n)return;const o=i.value.length;let u=a.current;switch(e){case"prev":u--,u<0&&l.value&&(u=o-1);break;case"next":u++,u>=o&&l.value&&(u=0)}r(u)}const I=()=>function(t,e="#000",n=27){return u("svg",{width:n,height:n,viewBox:"0 0 32 32"},[u("path",{d:t,fill:e},null,8,["d","fill"])],8,["width","height"])}("M21.781 7.844l-9.063 8.594 9.063 8.594q0.25 0.25 0.25 0.609t-0.25 0.578q-0.25 0.25-0.578 0.25t-0.578-0.25l-9.625-9.125q-0.156-0.125-0.203-0.297t-0.047-0.359q0-0.156 0.047-0.328t0.203-0.297l9.625-9.125q0.25-0.25 0.578-0.25t0.578 0.25q0.25 0.219 0.25 0.578t-0.25 0.578z",n.navigationColor,26);let M;const b=t=>{clearTimeout(M);const{clientX:a,clientY:r}=t,{left:i,right:o,top:l,bottom:u,width:s,height:c}=e.value.getBoundingClientRect();let d=!1;if(d=n.vertical?!(r-l<c/3||u-r<c/3):!(a-i<s/3||o-a<s/3),d)return M=setTimeout((()=>{m.value=d}),300);m.value=d},_=()=>{m.value=!0};function k(){e.value&&(e.value.removeEventListener("mousemove",b),e.value.removeEventListener("mouseleave",_),d&&(e.value.addEventListener("mousemove",b),e.value.addEventListener("mouseleave",_)))}return f(k),function(){const e={"swiper-next__navigation-hide":m.value,"swiper-next__navigation-vertical":n.vertical};return n.navigation?u(o,null,[u("div",h({class:["swiper-next__navigation swiper-next__navigation-prev",t({"swiper-next__navigation-disabled":v},e)],onClick:t=>x(t,"prev",v)},w),[I()]),u("div",h({class:["swiper-next__navigation swiper-next__navigation-next",t({"swiper-next__navigation-disabled":g},e)],onClick:t=>x(t,"next",g)},w),[I()])]):null}},O=function(t){return t.install=function(e){e.component(t.name)||e.component(t.name,t)},t};function P(t){return t.install=function(e){e.component(t.name,t)},t}const q=P(L);O(L);const A=k({name:"SwiperItem",props:{itemId:{type:String,default:""}},setup(t,{slots:e}){const n=s(null),a={rootRef:n,getItemId:()=>t.itemId,getBoundingClientRect:()=>n.value.getBoundingClientRect(),updatePosition(t,e){const a=e?"0":100*t+"%",r=e?100*t+"%":"0",i=n.value,o=`translate(${a},${r}) translateZ(0)`;i&&(i.style.webkitTransform=o,i.style.transform=o)}};return f((()=>{const t=w("addSwiperContext");t&&t(a)})),m((()=>{const t=w("removeSwiperContext");t&&t(a)})),()=>u("div",{ref:n,style:{position:"absolute",width:"100%",height:"100%"},class:"swiper-next-item"},[e.default&&e.default()])}}),F=P(A);O(A);let R={};x()&&(R={Swiper:q,SwiperItem:F});const j={components:{...R}};export{j as S};
