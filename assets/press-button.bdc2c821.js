import{_ as e,o as s,q as o,w as t,c as a,h as n,t as r,f as i,F as l,i as p,r as d,n as c,j as u,x as g,e as m,y as f}from"./index-5dfad55c.js";import{P as y}from"./press-icon-plus.62d17a35.js";import{P as h}from"./press-loading-plus.a24c0441.js";import{P as b}from"./press-loading.3f34f201.js";import{b as k}from"./button.ce7633a2.js";import{a as C}from"./version.d929b690.js";import{u as S,i as x}from"./utils.be600cd3.js";import{s as P}from"./style.0f94ff97.js";import{d as v,a as j}from"./press-component.c6e26072.js";const T=["normal","large","small","mini"];function z(e){const s=function(e){const s={},{size:o}=e;return o&&("string"===o&&T.indexOf(o)<=-1?(s.height=o,s.width=o):"object"==typeof o&&(o.height&&(s.height=o.height),o.width&&(s.width=o.width))),s}(e);if(!e.color)return P([s,e.customStyle]);const o={color:e.plain?e.color:"#fff",background:e.plain?null:e.color,...s};return-1!==e.color.indexOf("gradient")?o.border=0:o["border-color"]=e.color,P([o,e.customStyle])}const I={"e-sport-primary":["e-sport-primary"],"e-sport-primary-bg":["e-sport-primary","e-sport-bg"],"e-sport-primary-bg-lg":["e-sport-primary","e-sport-bg","e-sport-bg-lg"],"e-sport-primary-bg-xl":["e-sport-primary","e-sport-bg","e-sport-bg-xl"],"e-sport-secondary":["e-sport-secondary"],"e-sport-border":["e-sport-border"]},_=[k];C()&&_.push("wx://form-field-button");const w=e({name:"PressButton",options:{virtualHost:!0,...v,styleIsolation:"shared"},components:{PressIconPlus:y,PressLoadingPlus:h,PressLoading:b},mixins:_,props:{formType:{type:String,default:""},icon:{type:String,default:""},classPrefix:{type:String,default:"press-icon-plus"},plain:Boolean,block:Boolean,round:Boolean,square:Boolean,loading:{type:Boolean,default:!1},hairline:Boolean,disabled:Boolean,loadingText:{type:String,default:""},customStyle:{type:String,default:""},loadingType:{type:String,default:"circular"},type:{type:String,default:"default"},dataset:{type:[Object,null],default:null},size:{type:[String,Object],default:"normal"},loadingSize:{type:String,default:"20px"},color:{type:String,default:""},...j},emits:["click","getuserinfo"],data:()=>({baseStyle:""}),computed:{isESportLoading(){return this.loading&&I[this.type]},buttonClass(){const{type:e,size:s,block:o,round:t,plain:a,square:n,loading:r,disabled:i,hairline:l,customClass:p}=this,d=T.indexOf(s)>-1?s:"";let c=[],u=e;if(I[e]&&(c=I[e],u=""),e.indexOf("-disabled")>-1){const s=e.replace("-disabled","");c=[...I[s],"e-sport-disabled"]}return`${p} ${S.bem2("button",[u,d,...c,{block:o,round:t,plain:a,square:n,loading:r,disabled:i,hairline:l,unclickable:i||r}])} ${l?"press-hairline--surround":""}`},buttonStyle(){const{plain:e,color:s,customStyle:o,size:t}=this;return z({plain:e,color:s,customStyle:o,size:t})},loadingColor(){const{type:e,color:s,plain:o}=this;return(t={type:e,color:s,plain:o}).plain?t.color?t.color:"#c9c9c9":"default"===t.type?"#c9c9c9":"#fff";var t}},methods:{onFakeClick(e){x()&&this.realFakeClick(e)},realFakeClick(e){const{disabled:s,loading:o}=this;s||o||this.onClick(e)},onFakeTap(e){x()||this.realFakeClick(e)},onClick(e){this.$emit("click",e);const{canIUseGetUserProfile:s,openType:o,getUserProfileDesc:t,lang:a}=this;"getUserInfo"===o&&s&&uni.getUserProfile({desc:t||"  ",lang:a||"en",complete:e=>{this.$emit("getuserinfo",e)}})}}},[["render",function(e,y,h,b,k,C){const S=m("PressLoading"),x=m("press-loading-plus"),P=m("press-icon-plus"),v=f;return s(),o(v,{id:e.id,"data-detail":h.dataset,class:c(C.buttonClass),"hover-class":["press-button--active",e.hoverClass],lang:e.lang,"form-type":h.formType,style:u(C.buttonStyle),"open-type":h.disabled||h.loading||e.canIUseGetUserProfile&&"getUserInfo"===e.openType?"":e.openType,"business-id":e.businessId,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,"aria-label":e.ariaLabel,onClick:[g(C.onFakeClick,["stop"]),g(C.onFakeTap,["stop"])],onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting,onChooseavatar:e.onChooseAvatar},{default:t((()=>[C.isESportLoading?(s(),o(S,{key:0,"loading-scenes":"btn"})):h.loading?(s(),a(l,{key:1},[n(x,{"custom-class":e.loadingClass,size:h.loadingSize,type:h.loadingType,color:C.loadingColor},null,8,["custom-class","size","type","color"]),h.loadingText?(s(),a("div",{key:0,class:"press-button__loading-text"},r(h.loadingText),1)):i("v-if",!0)],64)):(s(),a(l,{key:2},[h.icon?(s(),o(P,{key:0,size:"1.2em",name:h.icon,"class-prefix":h.classPrefix,class:"press-button__icon","custom-style":"line-height: inherit;"},null,8,["name","class-prefix"])):i("v-if",!0),p("div",{class:"press-button__text"},[d(e.$slots,"default",{},void 0,!0)])],64))])),_:3},8,["id","data-detail","class","hover-class","lang","form-type","style","open-type","business-id","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","aria-label","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","onChooseavatar"])}],["__scopeId","data-v-04cd99cd"]]);export{w as P};
