import{P as e}from"./press-cell.a0845ac7.js";import{r as t}from"./version.7ee5c281.js";import{b as s}from"./rect.23461412.js";import{d as a,a as i}from"./press-component.181873fd.js";import{u as l}from"./utils.bb2d8d10.js";import{C as o,P as n}from"./relation.8b10893c.js";import{g as r}from"./parent-map.b443f4cc.js";import{_ as d,o as c,c as p,e as u,f as m,w as h,r as f,h as y,n as g,i as v,j as C,y as x,t as b}from"./index-43eb3ea0.js";import{P as _}from"./press-icon-plus.43efdcdd.js";import"./link.82331220.js";import"./style.0f94ff97.js";import"./add-unit.0c57c089.js";import"./validator.84caa8d5.js";import"./event.1c00601d.js";import"./support-passive.bc409298.js";import"./press-info.68d3dd51.js";function S({height:e,duration:t}){return[`height: ${e};`,`transition: height ${t}ms ease-in-out 0ms, top ${t}ms ease-in-out 0ms, -webkit-transform ${t}ms ease-in-out 0ms, transform ${t}ms ease-in-out 0ms;`,"transform-origin: 50% 50% 0px;"].join("")}function $(e,a,i){s(e,".press-collapse-item__content").then((e=>e.height)).then((s=>{!function(e,s,a,i){if(s){if(0===i){const t=0;e.animationStyle=S({height:"auto",duration:t})}else{const t=a?300:1;e.animationStyle=S({height:`${i}px`,duration:t}),setTimeout((()=>{e.animationStyle=S({height:"auto",duration:0})}),t)}return}e.animationStyle=S({height:`${i}px`,duration:1}),t((()=>{e.animationStyle=S({height:0,duration:300})}))}(e,a,i,s)}))}const j=d({i18n:{"zh-CN":{accordion:"手风琴",titleSlot:"自定义标题内容",text:"代码是写出来给人看的，附带能在机器上运行"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}},components:{PressCollapseItem:d({name:"PressCollapseItem",options:{...a,styleIsolation:"shared"},components:{PressCell:e},mixins:[o(r)],props:{size:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},border:{type:Boolean,default:!0},isLink:{type:Boolean,default:!0},titleClass:{type:String,default:""},contentClass:{type:String,default:""},...i},emits:[],data(){const{defaultExpandAll:e}=this[r];return{expanded:!!e,animation:{},mounted:!1,animationStyle:e?"height: auto;":"height: 0;"}},computed:{collapseItemClass(){const{disabled:e,expanded:t}=this;return l.bem2("collapse-item__title",{disabled:e,expanded:t})},collapseItemCustomClass(){let e="";return e=this.collapseItemClass,e},wrapperClass:()=>l.bem2("collapse-item__wrapper")},mounted(){this.updateExpanded(),this.mounted=!0},methods:{updateExpanded(){if(!this[r])return;const{value:e,accordion:t}=this[r],{children:s=[]}=this[r],{name:a}=this,i=s.indexOf(this),l=null==a?i:a,o=t?e===l:(e||[]).some((e=>e===l));o!==this.expanded&&$(this,o,this.mounted),this.expanded=o},onClick(){if(this.disabled)return;const{name:e,expanded:t}=this,s=this[r].children.indexOf(this),a=null==e?s:e;this[r].switch(a,!t)}}},[["render",function(e,t,s,a,i,l){const o=C("press-cell");return c(),p("div",{class:g(e.customClass+" press-collapse-item "+(0!==e.index?"press-hairline--top":""))},[u(" 【修改点】cell 增加 center，垂直居中 "),m(o,{size:s.size,title:s.title,"title-class":s.titleClass,icon:s.icon,value:s.value,label:s.label,"is-link":s.isLink,clickable:s.clickable,border:s.border&&i.expanded,"custom-class":l.collapseItemCustomClass,"hover-class":"press-cell--hover",center:"",onClick:l.onClick},{title:h((()=>[f(e.$slots,"title",{},void 0,!0)])),"right-icon":h((()=>[f(e.$slots,"right-icon",{},void 0,!0)])),default:h((()=>[f(e.$slots,"value",{},void 0,!0)])),_:3},8,["size","title","title-class","icon","value","label","is-link","clickable","border","custom-class","onClick"]),y("div",{class:g(l.wrapperClass),style:v(i.animationStyle)},[y("div",{class:g(["press-collapse-item__content",s.contentClass])},[f(e.$slots,"default",{},void 0,!0)],2)],6)],2)}],["__scopeId","data-v-0fe61e7e"]]),PressCollapse:d({name:"PressCollapse",options:{...a},mixins:[n(r)],props:{value:{type:[Array,String],default:()=>[]},accordion:{type:Boolean,default:!1},border:{type:Boolean,default:!0},defaultExpandAll:{type:Boolean,default:!1},...i},watch:{value:{handler(){this.updateExpanded()}},accordion:{handler(){this.updateExpanded()}}},created(){this.children=[]},methods:{updateExpanded(){this.children.forEach((e=>{e.updateExpanded()}))},switch(e,t){const{accordion:s,value:a}=this,i=e;e=s?t?e:"":t?(a||[]).concat(e):(a||[]).filter((t=>t!==e)),t?this.$emit("open",i):this.$emit("close",i),this.$emit("change",e),this.$emit("input",e)}}},[["render",function(e,t,s,a,i,l){return c(),p("div",{class:g(e.customClass+" press-collapse "+(s.border?"press-hairline--top-bottom":""))},[f(e.$slots,"default")],2)}]]),PressIconPlus:_},data:()=>({activeNames:["1"],activeNames2:"1",activeNames3:["1"],activeNamesTitle:["1"],sectionStyle:"margin: 0;",headerStyle:"background: #f7f8fa;"}),methods:{onChange(e){console.log("onChange.value: ",e),this.activeNames=e},onOpen(e){this.onGTip(`open: ${e}`),console.log("onOpen.value: ",e)},onClose(e){this.onGTip(`close: ${e}`),console.log("onClose.value: ",e)},onChangeAccordion(e){this.activeNames2=e},onChangeDisabled(e){this.activeNames3=e},onChangeTitle(e){this.activeNamesTitle=e}}},[["render",function(e,t,s,a,i,l){const o=C("press-collapse-item"),n=C("press-collapse"),r=C("demo-block"),d=C("press-icon-plus");return c(),p("div",{class:"demo-wrap demo-wrap--gray"},[m(r,{title:e.t("basicUsage"),"section-style":i.sectionStyle,"header-style":i.headerStyle},{default:h((()=>[m(n,{value:i.activeNames,onChange:l.onChange,onOpen:l.onOpen,onClose:l.onClose},{default:h((()=>[m(o,{title:`${e.t("title")} 1`,name:"1"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"]),m(o,{title:`${e.t("title")} 2`,name:"2"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"]),m(o,{title:`${e.t("title")} 3`,name:"3"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange","onOpen","onClose"])])),_:1},8,["title","section-style","header-style"]),m(r,{title:e.t("accordion"),"header-style":i.headerStyle,"section-style":i.sectionStyle},{default:h((()=>[m(n,{value:i.activeNames2,accordion:"",onChange:l.onChangeAccordion},{default:h((()=>[m(o,{title:`${e.t("title")} A`,name:"1"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"]),m(o,{title:`${e.t("title")} B`,name:"2"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"]),m(o,{title:`${e.t("title")} C`,name:"3"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","header-style","section-style"]),m(r,{title:e.t("disabled"),"header-style":i.headerStyle,"section-style":i.sectionStyle},{default:h((()=>[m(n,{value:i.activeNames3,accordion:"",onChange:l.onChangeDisabled},{default:h((()=>[m(o,{title:`${e.t("title")} X`,name:"1"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"]),m(o,{title:`${e.t("title")} Y`,disabled:"",name:"2"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"]),m(o,{title:`${e.t("title")} Z`,name:"3",disabled:""},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","header-style","section-style"]),m(r,{title:e.t("titleSlot"),"section-style":i.sectionStyle,"header-style":i.headerStyle},{default:h((()=>[m(n,{value:i.activeNamesTitle,onChange:l.onChangeTitle},{default:h((()=>[m(o,{name:"1"},{title:h((()=>[y("div",null,[x(b(e.t("title"))+" 1 ",1),m(d,{name:"question-o"})])])),default:h((()=>[x(" "+b(e.t("text")),1)])),_:1}),m(o,{title:`${e.t("title")} 2`,name:"2",icon:"shop-o"},{default:h((()=>[x(b(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","section-style","header-style"])])}]]);export{j as default};
