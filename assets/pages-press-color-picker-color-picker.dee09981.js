var t=Object.defineProperty,e=(e,r,a)=>(((e,r,a)=>{r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a})(e,"symbol"!=typeof r?r+"":r,a),a);import{I as r,_ as a,z as s,u as i,J as n,o,c as l,a as h,b as u,w as c,d,t as g,F as f,k as p,n as b,p as m,i as v,j as _,e as y,f as S}from"./index-988f1be4.js";import{P as M,a as k}from"./press-radio-group.8c2a019e.js";import{P as C}from"./press-cell-group.ec0cd45f.js";import"./relation.8b10893c.js";import"./parent-map.b443f4cc.js";import"./parent.59fa8a22.js";const x="#001F97",w=["#F2F3FF","#D9E1FF","#B5C7FF","#8EABFF","#618DFF","#366EF4","#0052D9","#003CAB","#002A7C","#001A57"],A={enableAlpha:{type:Boolean,default:!1},format:{type:String,default:"RGB"},swatchColors:{type:Array,default:()=>w},type:{type:String,default:"base"},value:{type:String,default:null},defaultValue:{type:String,default:""},showPreview:{type:Boolean,default:!1}},H=(t,e,a)=>{const{pageX:s,pageY:i}=t.changedTouches[0]||{};let{offsetLeft:n=0,offsetTop:o=0}=t.currentTarget||t.target||{};return void 0!==e&&(o=e),void 0!==a&&(n=a),{x:s-n,y:r(i)-o}},$=(t,e)=>{const r={HSV:Object.values(e.getHsva()),HSVA:Object.values(e.getHsva()),HSL:Object.values(e.getHsla()),HSLA:Object.values(e.getHsla()),HSB:Object.values(e.getHsla()),RGB:Object.values(e.getRgba()),RGBA:Object.values(e.getRgba()),CMYK:[...Object.values(e.getCmyk()),0],CSS:[e.css,0],HEX:[e.hex,0]},a=r[t];return a?[...a.slice(0,a.length-1),100*e.alpha+"%"]:r.RGB},R=t=>void 0===t?w:t&&t.length?t:[],T=/cmyk\((\d+%?),(\d+%?),(\d+%?),(\d+%?)\)/,F=t=>Math.max(0,Math.min(255,parseInt(t,10))),P=t=>{if(/cmyk/i.test(t)){const e=t.replace(/\s/g,"").match(T),r=F(e[1]),a=F(e[2]),s=F(e[3]),i=F(e[4]),{r:n,g:o,b:l}=((t,e,r,a)=>{let s=t/100,i=e/100,n=r/100;const o=a/100;s=s*(1-o)+o,i=i*(1-o)+o,n=n*(1-o)+o;let l=1-s,h=1-i,u=1-n;return l=Math.round(255*l),h=Math.round(255*h),u=Math.round(255*u),{r:l,g:h,b:u}})(r,a,s,i);return`rgb(${n}, ${o}, ${l})`}return t};function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var G=/^\s+/,B=/\s+$/;function j(t,e){if(e=e||{},(t=t||"")instanceof j)return t;if(!(this instanceof j))return new j(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,a=null,s=null,i=null,n=!1,o=!1;"string"==typeof t&&(t=function(t){t=t.replace(G,"").replace(B,"").toLowerCase();var e,r=!1;if(tt[t])t=tt[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=gt.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=gt.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=gt.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=gt.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=gt.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=gt.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=gt.hex8.exec(t))return{r:it(e[1]),g:it(e[2]),b:it(e[3]),a:ht(e[4]),format:r?"name":"hex8"};if(e=gt.hex6.exec(t))return{r:it(e[1]),g:it(e[2]),b:it(e[3]),format:r?"name":"hex"};if(e=gt.hex4.exec(t))return{r:it(e[1]+""+e[1]),g:it(e[2]+""+e[2]),b:it(e[3]+""+e[3]),a:ht(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=gt.hex3.exec(t))return{r:it(e[1]+""+e[1]),g:it(e[2]+""+e[2]),b:it(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==I(t)&&(ft(t.r)&&ft(t.g)&&ft(t.b)?(l=t.r,h=t.g,u=t.b,e={r:255*at(l,255),g:255*at(h,255),b:255*at(u,255)},n=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):ft(t.h)&&ft(t.s)&&ft(t.v)?(a=ot(t.s),s=ot(t.v),e=function(t,e,r){t=6*at(t,360),e=at(e,100),r=at(r,100);var a=Math.floor(t),s=t-a,i=r*(1-e),n=r*(1-s*e),o=r*(1-(1-s)*e),l=a%6,h=[r,n,i,i,o,r][l],u=[o,r,r,n,i,i][l],c=[i,i,o,r,r,n][l];return{r:255*h,g:255*u,b:255*c}}(t.h,a,s),n=!0,o="hsv"):ft(t.h)&&ft(t.s)&&ft(t.l)&&(a=ot(t.s),i=ot(t.l),e=function(t,e,r){var a,s,i;function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=at(t,360),e=at(e,100),r=at(r,100),0===e)a=s=i=r;else{var o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;a=n(l,o,t+1/3),s=n(l,o,t),i=n(l,o,t-1/3)}return{r:255*a,g:255*s,b:255*i}}(t.h,a,i),n=!0,o="hsl"),t.hasOwnProperty("a")&&(r=t.a));var l,h,u;return r=rt(r),{ok:n,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function D(t,e,r){t=at(t,255),e=at(e,255),r=at(r,255);var a,s,i=Math.max(t,e,r),n=Math.min(t,e,r),o=(i+n)/2;if(i==n)a=s=0;else{var l=i-n;switch(s=o>.5?l/(2-i-n):l/(i+n),i){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return{h:a,s:s,l:o}}function L(t,e,r){t=at(t,255),e=at(e,255),r=at(r,255);var a,s,i=Math.max(t,e,r),n=Math.min(t,e,r),o=i,l=i-n;if(s=0===i?0:l/i,i==n)a=0;else{switch(i){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return{h:a,s:s,v:o}}function E(t,e,r,a){var s=[nt(Math.round(t).toString(16)),nt(Math.round(e).toString(16)),nt(Math.round(r).toString(16))];return a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function V(t,e,r,a){return[nt(lt(a)),nt(Math.round(t).toString(16)),nt(Math.round(e).toString(16)),nt(Math.round(r).toString(16))].join("")}function O(t,e){e=0===e?0:e||10;var r=j(t).toHsl();return r.s-=e/100,r.s=st(r.s),j(r)}function q(t,e){e=0===e?0:e||10;var r=j(t).toHsl();return r.s+=e/100,r.s=st(r.s),j(r)}function N(t){return j(t).desaturate(100)}function z(t,e){e=0===e?0:e||10;var r=j(t).toHsl();return r.l+=e/100,r.l=st(r.l),j(r)}function U(t,e){e=0===e?0:e||10;var r=j(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-e/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-e/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-e/100*255))),j(r)}function K(t,e){e=0===e?0:e||10;var r=j(t).toHsl();return r.l-=e/100,r.l=st(r.l),j(r)}function X(t,e){var r=j(t).toHsl(),a=(r.h+e)%360;return r.h=a<0?360+a:a,j(r)}function Y(t){var e=j(t).toHsl();return e.h=(e.h+180)%360,j(e)}function J(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=j(t).toHsl(),a=[j(t)],s=360/e,i=1;i<e;i++)a.push(j({h:(r.h+i*s)%360,s:r.s,l:r.l}));return a}function Q(t){var e=j(t).toHsl(),r=e.h;return[j(t),j({h:(r+72)%360,s:e.s,l:e.l}),j({h:(r+216)%360,s:e.s,l:e.l})]}function W(t,e,r){e=e||6,r=r||30;var a=j(t).toHsl(),s=360/r,i=[j(t)];for(a.h=(a.h-(s*e>>1)+720)%360;--e;)a.h=(a.h+s)%360,i.push(j(a));return i}function Z(t,e){e=e||6;for(var r=j(t).toHsv(),a=r.h,s=r.s,i=r.v,n=[],o=1/e;e--;)n.push(j({h:a,s:s,v:i})),i=(i+o)%1;return n}j.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,a=this.toRgb();return t=a.r/255,e=a.g/255,r=a.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=rt(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=L(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=L(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),a=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+a+"%)":"hsva("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=D(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=D(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),a=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+a+"%)":"hsla("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return E(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,a,s){var i=[nt(Math.round(t).toString(16)),nt(Math.round(e).toString(16)),nt(Math.round(r).toString(16)),nt(lt(a))];if(s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*at(this._r,255))+"%",g:Math.round(100*at(this._g,255))+"%",b:Math.round(100*at(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*at(this._r,255))+"%, "+Math.round(100*at(this._g,255))+"%, "+Math.round(100*at(this._b,255))+"%)":"rgba("+Math.round(100*at(this._r,255))+"%, "+Math.round(100*at(this._g,255))+"%, "+Math.round(100*at(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(et[E(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+V(this._r,this._g,this._b,this._a),r=e,a=this._gradientType?"GradientType = 1, ":"";if(t){var s=j(t);r="#"+V(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0;return e||!a||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return j(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(z,arguments)},brighten:function(){return this._applyModification(U,arguments)},darken:function(){return this._applyModification(K,arguments)},desaturate:function(){return this._applyModification(O,arguments)},saturate:function(){return this._applyModification(q,arguments)},greyscale:function(){return this._applyModification(N,arguments)},spin:function(){return this._applyModification(X,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(W,arguments)},complement:function(){return this._applyCombination(Y,arguments)},monochromatic:function(){return this._applyCombination(Z,arguments)},splitcomplement:function(){return this._applyCombination(Q,arguments)},triad:function(){return this._applyCombination(J,[3])},tetrad:function(){return this._applyCombination(J,[4])}},j.fromRatio=function(t,e){if("object"==I(t)){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]="a"===a?t[a]:ot(t[a]));t=r}return j(t,e)},j.equals=function(t,e){return!(!t||!e)&&j(t).toRgbString()==j(e).toRgbString()},j.random=function(){return j.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},j.mix=function(t,e,r){r=0===r?0:r||50;var a=j(t).toRgb(),s=j(e).toRgb(),i=r/100;return j({r:(s.r-a.r)*i+a.r,g:(s.g-a.g)*i+a.g,b:(s.b-a.b)*i+a.b,a:(s.a-a.a)*i+a.a})},j.readability=function(t,e){var r=j(t),a=j(e);return(Math.max(r.getLuminance(),a.getLuminance())+.05)/(Math.min(r.getLuminance(),a.getLuminance())+.05)},j.isReadable=function(t,e,r){var a,s,i=j.readability(t,e);switch(s=!1,(a=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+a.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7}return s},j.mostReadable=function(t,e,r){var a,s,i,n,o=null,l=0;s=(r=r||{}).includeFallbackColors,i=r.level,n=r.size;for(var h=0;h<e.length;h++)(a=j.readability(t,e[h]))>l&&(l=a,o=j(e[h]));return j.isReadable(t,o,{level:i,size:n})||!s?o:(r.includeFallbackColors=!1,j.mostReadable(t,["#fff","#000"],r))};var tt=j.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},et=j.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(tt);function rt(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function at(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function st(t){return Math.min(1,Math.max(0,t))}function it(t){return parseInt(t,16)}function nt(t){return 1==t.length?"0"+t:""+t}function ot(t){return t<=1&&(t=100*t+"%"),t}function lt(t){return Math.round(255*parseFloat(t)).toString(16)}function ht(t){return it(t)/255}var ut,ct,dt,gt=(ct="[\\s|\\(]+("+(ut="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ut+")[,|\\s]+("+ut+")\\s*\\)?",dt="[\\s|\\(]+("+ut+")[,|\\s]+("+ut+")[,|\\s]+("+ut+")[,|\\s]+("+ut+")\\s*\\)?",{CSS_UNIT:new RegExp(ut),rgb:new RegExp("rgb"+ct),rgba:new RegExp("rgba"+dt),hsl:new RegExp("hsl"+ct),hsla:new RegExp("hsla"+dt),hsv:new RegExp("hsv"+ct),hsva:new RegExp("hsva"+dt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ft(t){return!!gt.CSS_UNIT.exec(t)}const pt=(t,e)=>{let r="";for(let a=0;a<t.length;a++)"string"==typeof t[a]?r+=t[a]:r+=t[a].source;return new RegExp(r,e)},bt=(()=>{const t=/\s*,\s*/,e=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,r=pt(["(?:",/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,"|",/[_a-z-][_a-z0-9-]*/,")"],""),a=pt([r,"(?:\\s+",e,"(?:\\s+",e,")?)?"],""),s=pt(["(?:",a,t,")*",a],""),i=pt(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,")"],"");return{gradientSearch:pt(["(?:(",i,")",t,")?(",s,")"],"gi"),colorStopSearch:pt(["\\s*(",r,")","(?:\\s+","(",e,"))?","(?:",t,"\\s*)?"],"gi")}})(),mt=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/gim,vt=t=>(mt.lastIndex=0,mt.exec(t)),_t={top:0,right:90,bottom:180,left:270,"top left":225,"left top":225,"top right":135,"right top":135,"bottom left":315,"left bottom":315,"bottom right":45,"right bottom":45},yt=t=>{const e=vt(t);if(!e)return!1;const r={points:[],degree:0},a=((t,e)=>{let r,a,s;t.gradientSearch.lastIndex=0;const i=t.gradientSearch.exec(e);if(i)for(r={original:i[0],colorStopList:[]},i[1]&&(r.line=i[1]),i[2]&&(r.angle=i[2]),i[3]&&(r.sideCorner=i[3]),t.colorStopSearch.lastIndex=0,a=t.colorStopSearch.exec(i[4]);a;)s={color:a[1]},a[2]&&(s.position=a[2]),r.colorStopList.push(s),a=t.colorStopSearch.exec(i[4]);return r})(bt,e[1]);if(a.original.trim()!==e[1].trim())return!1;const s=a.colorStopList.map((({color:t,position:e})=>{const r=Object.create(null);return r.color=j(t).toRgbString(),r.left=parseFloat(e),r}));r.points=s;let i=parseInt(a.angle,10);return Number.isNaN(i)&&(i=_t[a.sideCorner]||90),r.degree=i,r},St=Math.round,Mt=t=>j(t).toRgb(),kt=t=>{const{points:e,degree:r}=t;return`linear-gradient(${r}deg,${e.sort(((t,e)=>t.left-e.left)).map((t=>`${t.color} ${Math.round(100*t.left)/100}%`)).join(",")})`},Ct=class{constructor(t){e(this,"states",{s:100,v:100,h:100,a:1}),e(this,"originColor"),e(this,"isGradient"),e(this,"gradientStates",{colors:[],degree:0,selectedId:null,css:""}),this.update(t)}update(t){var e,r;if(t===this.originColor)return;const a=yt(t);if(this.isGradient&&!a){const e=j(t).toHsv();return this.states=e,void this.updateCurrentGradientColor()}this.originColor=t,this.isGradient=!1;let s=t;if(a){this.isGradient=!0;const t=a,i=t.points.map((t=>{return e=t.left,r=t.color,{id:(1+4294967295*Math.random()).toString(16),left:e,color:r};var e,r}));this.gradientStates={colors:i,degree:t.degree,selectedId:(null==(e=i[0])?void 0:e.id)||null},this.gradientStates.css=this.linearGradient,s=null==(r=this.gradientSelectedPoint)?void 0:r.color}this.updateStates(s)}get saturation(){return this.states.s}set saturation(t){this.states.s=Math.max(0,Math.min(100,t)),this.updateCurrentGradientColor()}get value(){return this.states.v}set value(t){this.states.v=Math.max(0,Math.min(100,t)),this.updateCurrentGradientColor()}get hue(){return this.states.h}set hue(t){this.states.h=Math.max(0,Math.min(360,t)),this.updateCurrentGradientColor()}get alpha(){return this.states.a}set alpha(t){this.states.a=Math.max(0,Math.min(1,Math.round(100*t)/100)),this.updateCurrentGradientColor()}get rgb(){const{r:t,g:e,b:r}=Mt(this.states);return`rgb(${St(t)}, ${St(e)}, ${St(r)})`}get rgba(){const{r:t,g:e,b:r,a:a}=Mt(this.states);return`rgba(${St(t)}, ${St(e)}, ${St(r)}, ${a})`}get hsv(){const{h:t,s:e,v:r}=this.getHsva();return`hsv(${t}, ${e}%, ${r}%)`}get hsva(){const{h:t,s:e,v:r,a:a}=this.getHsva();return`hsva(${t}, ${e}%, ${r}%, ${a})`}get hsl(){const{h:t,s:e,l:r}=this.getHsla();return`hsl(${t}, ${e}%, ${r}%)`}get hsla(){const{h:t,s:e,l:r,a:a}=this.getHsla();return`hsla(${t}, ${e}%, ${r}%, ${a})`}get hex(){return j(this.states).toHexString()}get hex8(){return j(this.states).toHex8String()}get cmyk(){const{c:t,m:e,y:r,k:a}=this.getCmyk();return`cmyk(${t}, ${e}, ${r}, ${a})`}get css(){return this.isGradient?this.linearGradient:this.rgba}get linearGradient(){const{gradientColors:t,gradientDegree:e}=this;return kt({points:t,degree:e})}get gradientColors(){return this.gradientStates.colors}set gradientColors(t){this.gradientStates.colors=t,this.gradientStates.css=this.linearGradient}get gradientSelectedId(){return this.gradientStates.selectedId}set gradientSelectedId(t){var e;t!==this.gradientSelectedId&&(this.gradientStates.selectedId=t,this.updateStates(null==(e=this.gradientSelectedPoint)?void 0:e.color))}get gradientDegree(){return this.gradientStates.degree}set gradientDegree(t){this.gradientStates.degree=Math.max(0,Math.min(360,t)),this.gradientStates.css=this.linearGradient}get gradientSelectedPoint(){const{gradientColors:t,gradientSelectedId:e}=this;return t.find((t=>t.id===e))}getFormatsColorMap(){return{HEX:this.hex,CMYK:this.cmyk,RGB:this.rgb,RGBA:this.rgba,HSL:this.hsl,HSLA:this.hsla,HSV:this.hsv,HSVA:this.hsva,CSS:this.css,HEX8:this.hex8}}updateCurrentGradientColor(){const{isGradient:t,gradientColors:e,gradientSelectedId:r}=this,{length:a}=e,s=this.gradientSelectedPoint;if(!t||0===a||!s)return!1;const i=e.findIndex((t=>t.id===r)),n={...s,color:this.rgba};return e.splice(i,1,n),this.gradientColors=e.slice(),this}updateStates(t){const e=j(P(t)).toHsv();this.states=e}getRgba(){const{r:t,g:e,b:r,a:a}=Mt(this.states);return{r:St(t),g:St(e),b:St(r),a:a}}getCmyk(){const{r:t,g:e,b:r}=this.getRgba(),[a,s,i,n]=((t,e,r)=>{let a=0,s=0,i=0,n=0;const o=parseInt(`${t}`.replace(/\s/g,""),10),l=parseInt(`${e}`.replace(/\s/g,""),10),h=parseInt(`${r}`.replace(/\s/g,""),10);if(0===o&&0===l&&0===h)return n=1,[0,0,0,1];a=1-o/255,s=1-l/255,i=1-h/255;const u=Math.min(a,Math.min(s,i));return a=(a-u)/(1-u),s=(s-u)/(1-u),i=(i-u)/(1-u),n=u,[a,s,i,n]})(t,e,r);return{c:St(100*a),m:St(100*s),y:St(100*i),k:St(100*n)}}getHsva(){let{h:t,s:e,v:r,a:a}=j(this.states).toHsv();return t=St(t),e=St(100*e),r=St(100*r),a*=1,{h:t,s:e,v:r,a:a}}getHsla(){let{h:t,s:e,l:r,a:a}=j(this.states).toHsl();return t=St(t),e=St(100*e),r=St(100*r),a*=1,{h:t,s:e,l:r,a:a}}equals(t){return j.equals(this.rgba,t)}static isValid(t){return!!yt(t)||j(t).isValid()}static hsva2color(t,e,r,a){return j({h:t,s:e,v:r,a:a}).toHsvString()}static hsla2color(t,e,r,a){return j({h:t,s:e,l:r,a:a}).toHslString()}static rgba2color(t,e,r,a){return j({r:t,g:e,b:r,a:a}).toHsvString()}static hex2color(t,e){const r=j(t);return r.setAlpha(e),r.toHexString()}static object2color(t,e){if("CMYK"===e){const{c:e,m:r,y:a,k:s}=t;return`cmyk(${e}, ${r}, ${a}, ${s})`}return j(t,{format:e}).toRgbString()}};let xt=Ct;e(xt,"isGradientColor",(t=>!!vt(t))),e(xt,"compare",((t,e)=>{const r=Ct.isGradientColor(t),a=Ct.isGradientColor(e);if(r&&a){return kt(yt(t))===kt(yt(e))}return!r&&!a&&j.equals(t,e)}));const wt=["alpha","css","hex","hex8","hsl","hsla","hsv","hsva","rgb","rgba","saturation","value","isGradient"],At=t=>{if(!t)return null;const e=Object.create(null);return wt.forEach((r=>e[r]=t[r])),t.isGradient&&(e.linearGradient=t.linearGradient),e},Ht="press-color-picker";const $t=a({i18n:{"zh-CN":{multiple:"带色板",format:"自定义格式",mode:t=>`${t} 模式`,preview:"显示预览"},"en-US":{multiple:"Multiple",format:"Format",mode:t=>`Mode ${t}`,preview:"Preview"}},components:{PressColorPicker:a({name:"PressColorPicker",props:A,data(){const t=this.defaultValue||this.value,e=new xt(A.defaultValue.value||A.value.value||x);return{panelRect:{width:343,height:144},sliderRect:{width:303},saturationInfo:{saturation:0,value:0},saturationThumbStyle:{left:0,top:0},sliderInfo:{value:0},hueSliderStyle:{left:0},alphaSliderStyle:{left:0},innerValue:t,previewColor:t,formatList:$(this.format,e),innerSwatchList:R(this.swatchColors),isMultiple:"multiple"===this.type,utils:s,color:e,styleUtil:i}},computed:{sliderPaddingStyle(){const{alphaSliderStyle:t}=this;return i({background:`linear-gradient(90deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.0) 93%, ${t.color} 93%, ${t.color} 100%)`})}},watch:{innerValue(t){t!==this.formatValue()&&this.updateColor()},format(){this.setCoreStyle()},swatchColors(t){this.setData({innerSwatchList:R(t)})},type(t){this.setData({isMultiple:"multiple"===t})}},mounted(){this.init()},methods:{setData(t,e){Object.keys(t).forEach((e=>{this[e]=t[e]})),"function"==typeof e&&setTimeout((()=>{e()}))},init(){this.updateColor(),this.getRectInfo().then((()=>{this.setCoreStyle()}))},getRectInfo(){return new Promise(((t,e)=>{Promise.all([n(this,`.${Ht}__saturation`),n(this,`.${Ht}__slider`)]).then((([e,r])=>{this.setData({panelRect:{width:e.width||343,height:e.height||144,top:e.top,left:e.left},sliderRect:{width:r.width||303,top:r.top,left:r.left}},(()=>{t()}))})).catch((t=>{e(t)}))}))},clickSwatch(t){this.color.update(t),this.emitColorChange("preset"),this.setCoreStyle()},setCoreStyle(){this.setData({sliderInfo:{value:this.color.hue},hueSliderStyle:this.getSliderThumbStyle({value:this.color.hue,maxValue:360}),alphaSliderStyle:this.getSliderThumbStyle({value:100*this.color.alpha,maxValue:100}),saturationInfo:{saturation:this.color.saturation,value:this.color.value},saturationThumbStyle:this.getSaturationThumbStyle({saturation:this.color.saturation,value:this.color.value}),previewColor:this.color.rgba,formatList:$(this.format,this.color)})},emitColorChange(t){this.setData({innerValue:this.formatValue()}),this.$emit("change",{value:this.formatValue(),context:{trigger:t,color:At(this.color)}})},defaultEmptyColor:()=>x,updateColor(){const t=this.innerValue||this.defaultEmptyColor();this.color.update(t)},getSaturationAndValueByCoordinate(t){const{width:e,height:r}=this.panelRect,{x:a,y:s}=t;let i=a/e,n=1-s/r;return i=Math.min(1,Math.max(0,i)),n=Math.min(1,Math.max(0,n)),{saturation:i,value:n}},getSaturationThumbStyle({saturation:t,value:e}){const{width:r,height:a}=this.panelRect,s=Math.round((1-e)*a),i=Math.round(t*r);return{color:this.color.rgb,left:`${i}px`,top:`${s}px`}},getSliderThumbStyle({value:t,maxValue:e}){const{width:r}=this.sliderRect;if(!r)return;return{left:`${Math.round(t/e*100)}%`,color:this.color.rgb}},onChangeSaturation({saturation:t,value:e}){const{saturation:r,value:a}=this.color;let s="palette-saturation-brightness";if(e!==a&&t!==r)this.color.saturation=t,this.color.value=e,s="palette-saturation-brightness";else if(t!==r)this.color.saturation=t,s="palette-saturation";else{if(e===a)return;this.color.value=e,s="palette-brightness"}this.$emit("palette-bar-change",{color:At(this.color)}),this.emitColorChange(s),this.setCoreStyle()},formatValue(){return this.color.getFormatsColorMap()[this.format]||this.color.css},onChangeSlider({value:t,isAlpha:e}){e?this.color.alpha=t/100:this.color.hue=t,this.emitColorChange(e?"palette-alpha-bar":"palette-hue-bar"),this.setCoreStyle()},handleSaturationDrag(t){const e=H(t,this.panelRect.top,this.panelRect.left),{saturation:r,value:a}=this.getSaturationAndValueByCoordinate(e);this.onChangeSaturation({saturation:r,value:a})},handleSliderDrag(t,e=!1){const r=H(t,this.sliderRect.top,this.sliderRect.left),{width:a}=this.sliderRect,{x:s}=r,i=e?100:360;let n=Math.round(s/a*i*100)/100;n<0&&(n=0),n>i&&(n=i),this.onChangeSlider({value:n,isAlpha:e})},handleDiffDrag(t){var e,r;switch(t.target.dataset.type||(null==(r=null==(e=t.currentTarget)?void 0:e.dataset)?void 0:r.type)){case"saturation":this.handleSaturationDrag(t);break;case"hue-slider":this.handleSliderDrag(t);break;case"alpha-slider":this.handleSliderDrag(t,!0)}},onTouchStart(t){this.getRectInfo().then((()=>{this.handleDiffDrag(t)}))},onTouchMove(t){this.handleDiffDrag(t)},onTouchEnd(t){setTimeout((()=>{this.handleDiffDrag(t)}))},getUniqueKey:(t,e)=>`${t}-${e}`}},[["render",function(t,e,r,a,s,i){return o(),l("div",{class:"press-color-picker__panel"},[h("div",{class:b(["press-color-picker__body",`press-color-picker__body--${t.type}`])},[s.isMultiple?(o(),l("div",{key:0,class:"press-color-picker__saturation","data-type":"saturation",style:u({background:`hsl(${s.sliderInfo.value}, 100%, 50%)`}),onTouchstart:e[0]||(e[0]=c(((...t)=>i.onTouchStart&&i.onTouchStart(...t)),["stop","prevent"])),onTouchmove:e[1]||(e[1]=c(((...t)=>i.onTouchMove&&i.onTouchMove(...t)),["stop","prevent"])),onTouchend:e[2]||(e[2]=c(((...t)=>i.onTouchEnd&&i.onTouchEnd(...t)),["stop","prevent"]))},[h("div",{class:"press-color-picker__thumb",style:u(s.styleUtil(s.saturationThumbStyle))},null,4)],36)):d("v-if",!0),s.isMultiple?(o(),l("div",{key:1,class:"press-color-picker__sliders-wrapper"},[h("div",{class:"press-color-picker__sliders"},[h("div",{class:"press-color-picker__slider-wrapper press-color-picker__slider-wrapper--hue-type"},[h("div",{class:"press-color-picker__slider","data-type":"hue-slider",onTouchstart:e[3]||(e[3]=c(((...t)=>i.onTouchStart&&i.onTouchStart(...t)),["stop","prevent"])),onTouchmove:e[4]||(e[4]=c(((...t)=>i.onTouchMove&&i.onTouchMove(...t)),["stop","prevent"])),onTouchend:e[5]||(e[5]=c(((...t)=>i.onTouchEnd&&i.onTouchEnd(...t)),["stop","prevent"]))},[h("div",{class:"press-color-picker__rail"}),h("div",{class:"press-color-picker__thumb",style:u(s.styleUtil(s.hueSliderStyle))},null,4)],32)]),t.enableAlpha?(o(),l("div",{key:0,class:"press-color-picker__slider-wrapper press-color-picker__slider-wrapper--alpha-type"},[h("div",{class:"press-color-picker__slider-padding",style:u(i.sliderPaddingStyle)},null,4),h("div",{class:"press-color-picker__slider","data-type":"alpha-slider",onTouchstart:e[6]||(e[6]=c(((...t)=>i.onTouchStart&&i.onTouchStart(...t)),["stop","prevent"])),onTouchmove:e[7]||(e[7]=c(((...t)=>i.onTouchMove&&i.onTouchMove(...t)),["stop","prevent"])),onTouchend:e[8]||(e[8]=c(((...t)=>i.onTouchEnd&&i.onTouchEnd(...t)),["stop","prevent"]))},[h("div",{class:"press-color-picker__rail",style:u({background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${s.alphaSliderStyle.color})`})},null,4),h("div",{class:"press-color-picker__thumb",style:u(s.styleUtil(s.alphaSliderStyle))},null,4)],32)])):d("v-if",!0)]),t.showPreview?(o(),l("div",{key:0,class:"press-color-picker__sliders-preview press-color-picker--bg-alpha"},[h("div",{class:"press-color-picker__sliders-preview-inner",style:u({background:s.previewColor})},null,4)])):d("v-if",!0)])):d("v-if",!0),s.isMultiple?(o(),l("div",{key:2,class:"press-color-picker__format"},[h("div",{class:"press-color-picker__format-item press-color-picker__format-item--first"},g(t.format),1),h("div",{class:"press-color-picker__format-item press-color-picker__format-item--second"},[h("div",{class:"press-color-picker__format-inputs"},[(o(!0),l(f,null,p(s.formatList,((t,e)=>(o(),l("div",{key:i.getUniqueKey(t,e),class:b([s.utils.bem2("color-picker__format-input",[e===s.formatList.length-1&&2===s.formatList.length?"fixed":"base"])])},g(t),3)))),128))])])])):d("v-if",!0),s.innerSwatchList.length?(o(),l("div",{key:3,class:"press-color-picker__swatches-wrap"},[h("div",{class:"press-color-picker__swatches"},[s.isMultiple?(o(),l("div",{key:0,class:"press-color-picker__swatches-title"}," 系统预设色彩 ")):d("v-if",!0),h("div",{class:"press-color-picker__swatches-items"},[(o(!0),l(f,null,p(s.innerSwatchList,(t=>(o(),l("div",{key:t,class:"press-color-picker__swatches-item","data-value":"swatch",onClick:c((()=>i.clickSwatch(t)),["stop"])},[h("div",{class:"press-color-picker__swatches-color"},[h("div",{class:"press-color-picker__swatches-inner",style:u({backgroundColor:t})},null,4)])],8,["onClick"])))),128))])])])):d("v-if",!0)],2)])}],["__scopeId","data-v-cf52c6c3"]]),PressRadio:M,PressRadioGroup:k,PressCell:m,PressCellGroup:C},data:()=>({sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",curFormat:"CSS",formatList:["CSS","HEX","RGB","HSL","HSV","CMYK"].map((t=>({label:`${t} 模式`,value:t})))}),methods:{changeFormat(t){console.log(">>> changeFormat.value ",t),this.curFormat=t},onChange(t){console.log(">>> change.value ",t)},onPaletteBarChange(t){console.log(">>> paletteBarChange.value ",t)}}},[["render",function(t,e,r,a,s,i){const n=y("PressColorPicker"),h=y("demo-block"),u=y("press-radio"),c=y("press-cell"),d=y("press-cell-group"),g=y("press-radio-group");return o(),l("div",{class:"demo-wrap"},[v(h,{title:t.t("basicUsage"),"header-style":s.headerStyle,"section-style":s.sectionStyle},{default:_((()=>[v(n,{onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"]),v(h,{title:t.t("multiple"),"header-style":s.headerStyle,"section-style":s.sectionStyle},{default:_((()=>[v(n,{type:"multiple",onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"]),v(h,{title:t.t("format"),description:"abc","header-style":s.headerStyle,"section-style":s.sectionStyle},{default:_((()=>[v(n,{type:"multiple","enable-alpha":"",format:s.curFormat,onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["format","onChange","onPaletteBarChange"]),v(g,{value:s.curFormat,onChange:e[0]||(e[0]=t=>i.changeFormat(t))},{default:_((()=>[v(d,null,{default:_((()=>[(o(!0),l(f,null,p(s.formatList,(e=>(o(),S(c,{key:e.value,title:`${t.t("mode",e.value)}`,clickable:"","data-name":"1",onClick:()=>i.changeFormat(e.value)},{"right-icon":_((()=>[v(u,{name:e.value},null,8,["name"])])),_:2},1032,["title","onClick"])))),128))])),_:1})])),_:1},8,["value"])])),_:1},8,["title","header-style","section-style"]),v(h,{title:t.t("preview"),"header-style":s.headerStyle,"section-style":s.sectionStyle},{default:_((()=>[v(n,{type:"multiple","show-preview":"","enable-alpha":"",value:"#70de2f",onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"])])}],["__scopeId","data-v-86be05e1"]]);export{$t as default};
