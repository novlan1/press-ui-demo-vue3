import{G as e,H as t,J as s,_ as o,o as i,c as n,e as c,F as a,g as r,d as l,w as p,t as h,j as d,B as m,a8 as u,h as y,z as w,v as k,k as S,a as v}from"./index-7b185b18.js";import{P as f}from"./press-popup-plus.7a6763bc.js";const _=["qq","link","weibo","wechat","poster","qrcode","weapp-qrcode","wechat-moments"];const b={getIconURL:function(e){return-1!==_.indexOf(e)?`https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fshare-sheet-${e}.png`:e}};const g=o({options:{...e},components:{},props:{options:{type:Array,default:()=>[]},showBorder:Boolean,...t},emits:["select"],data:()=>({computed:b}),computed:{optionsClass(){const{showBorder:e}=this;return s.bem2("share-sheet__options",{border:e})}},methods:{onSelect(e){const{index:t}=e.currentTarget.dataset,s=this.options[t];this.$emit("select",Object.assign(Object.assign({},s),{index:t}))}}},[["render",function(e,t,s,o,y,w){const k=u;return i(),n("div",{class:"press-share-sheet-options"},[c("div",{class:m(w.optionsClass)},[(i(!0),n(a,null,r(s.options,((e,s)=>(i(),n("div",{key:s,class:"press-share-sheet__option","data-index":s,onClick:t[0]||(t[0]=(...e)=>w.onSelect&&w.onSelect(...e))},[l(k,{class:"press-share-sheet__button","open-type":e.openType},{default:p((()=>[c("img",{src:y.computed.getIconURL(e.icon),class:"press-share-sheet__icon"},null,8,["src"]),e.name?(i(),n("div",{key:0,class:"press-share-sheet__name"},h(e.name),1)):d("v-if",!0),e.description?(i(),n("div",{key:1,class:"press-share-sheet__option-description"},h(e.description),1)):d("v-if",!0)])),_:2},1032,["open-type"])],8,["data-index"])))),128))],2)])}],["__scopeId","data-v-23971b42"]]);const C={isMulti:function(e){return null!=e&&null!=e[0]&&(Array.isArray(e)&&Array.isArray(e[0]))}};const O=o({i18n:{"zh-CN":{Custom:"自定义",qq:"QQ",name:"名称",link:"复制链接",title:"立即分享给好友",weibo:"微博",wechat:"微信",poster:"分享海报",qrcode:"二维码",multiLine:"展示多行选项",showSheet:"显示分享面板",withDesc:"展示描述信息",customIcon:"自定义图标",description:"描述信息",weappQrcode:"小程序码",wechatMoments:"朋友圈"},"en-US":{Custom:"Custom",qq:"QQ",name:"Name",link:"Link",title:"Share",weibo:"Weibo",wechat:"Wechat",poster:"Poster",qrcode:"Qrcode",multiLine:"Multi Line",showSheet:"Show ShareSheet",withDesc:"Show Description",customIcon:"Custom Icon",description:"Description",weappQrcode:"Weapp Qrcode",wechatMoments:"Wechat Moments"}},components:{PressShareSheet:o({name:"PressShareSheet",options:{...e},components:{PressPopup:f,Options:g},props:{show:Boolean,overlayStyle:{type:String,default:""},zIndex:{type:Number,default:100},title:{type:String,default:""},cancelText:{type:String,default:"取消"},description:{type:String,default:""},options:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},duration:{type:Number,default:300},...t},emits:["click-overlay","cancel","select","close"],data:()=>({computed:C}),methods:{onClickOverlay(){this.$emit("click-overlay")},onCancel(){this.onClose(),this.$emit("cancel")},onSelect(e){this.$emit("select",e)},onClose(){this.$emit("close")}}},[["render",function(e,t,s,o,m,v){const f=S("options"),_=u,b=S("press-popup");return i(),y(b,{round:"",class:"press-share-sheet",show:s.show,position:"bottom",overlay:s.overlay,duration:s.duration,"z-index":s.zIndex,"overlay-style":s.overlayStyle,"close-on-click-overlay":s.closeOnClickOverlay,"safe-area-inset-bottom":s.safeAreaInsetBottom,onClose:v.onClose,onClickOverlay:v.onClickOverlay},{default:p((()=>[c("div",{class:"press-share-sheet__header"},[c("div",{class:"press-share-sheet__title"},[w(e.$slots,"title",{},void 0,!0)]),s.title?(i(),n("div",{key:0,class:"press-share-sheet__title"},h(s.title),1)):d("v-if",!0),c("div",{class:"press-share-sheet__description"},[w(e.$slots,"description",{},void 0,!0)]),s.description?(i(),n("div",{key:1,class:"press-share-sheet__description"},h(s.description),1)):d("v-if",!0)]),m.computed.isMulti(s.options)?(i(!0),n(a,{key:0},r(s.options,((e,t)=>(i(),y(f,{key:t,"show-border":0!==t,options:e,onSelect:v.onSelect},null,8,["show-border","options","onSelect"])))),128)):(i(),y(f,{key:1,options:s.options,onSelect:v.onSelect},null,8,["options","onSelect"])),l(_,{type:"button",class:"press-share-sheet__cancel",onClick:v.onCancel},{default:p((()=>[k(h(s.cancelText),1)])),_:1},8,["onClick"])])),_:3},8,["show","overlay","duration","z-index","overlay-style","close-on-click-overlay","safe-area-inset-bottom","onClose","onClickOverlay"])}],["__scopeId","data-v-f1da0351"]]),PressCell:v},data(){return{demoList:[{title:this.t("basicUsage"),list:[{title:this.t("basicUsage"),type:"basic"}]},{title:this.t("Custom"),list:[{title:this.t("multiLine"),type:"multiLine"},{title:this.t("customIcon"),type:"customIcon"},{title:this.t("withDesc"),type:"description"}]}],showShare:!1,description:"",curOptions:[]}},computed:{options(){return[{name:this.t("wechat"),icon:"wechat",openType:"share"},{name:this.t("weibo"),icon:"weibo"},{name:this.t("link"),icon:"link"},{name:this.t("poster"),icon:"poster"},{name:this.t("qrcode"),icon:"qrcode"}]},multiLineOptions(){return[[{name:this.t("wechat"),icon:"wechat"},{name:this.t("weibo"),icon:"weibo"},{name:this.t("qq"),icon:"qq"}],[{name:this.t("link"),icon:"link"},{name:this.t("poster"),icon:"poster"},{name:this.t("qrcode"),icon:"qrcode"}]]},customIconOptions(){return[{name:this.t("name"),icon:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fcustom-icon-fire.png"},{name:this.t("name"),icon:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fcustom-icon-light.png"},{name:this.t("name"),icon:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press%2Fimg%2Fcustom-icon-water.png"}]},descriptionOptions(){return[{name:this.t("wechat"),icon:"wechat"},{name:this.t("weibo"),icon:"weibo"},{name:this.t("link"),icon:"link",description:this.t("description")},{name:this.t("poster"),icon:"poster"},{name:this.t("qrcode"),icon:"qrcode"}]}},mounted(){this.curOptions=this.options},methods:{onShowShareSheet(e){let t="";switch(e){case"basic":this.curOptions=this.options;break;case"multiLine":this.curOptions=this.multiLineOptions;break;case"customIcon":this.curOptions=this.customIconOptions;break;case"description":this.curOptions=this.descriptionOptions,t=this.t("description")}this.showShare=!0,this.description=t},onSelect(e){console.log("[onSelect] val",e),this.showShare=!1},onClose(){this.showShare=!1}}},[["render",function(e,t,s,o,c,h){const d=S("press-cell"),m=S("demo-block"),u=S("press-share-sheet");return i(),n("div",{class:"demo-wrap"},[(i(!0),n(a,null,r(c.demoList,((e,t)=>(i(),y(m,{key:t,title:e.title},{default:p((()=>[(i(!0),n(a,null,r(e.list,(e=>(i(),y(d,{key:e.title,title:e.title,"is-link":"",onClick:t=>h.onShowShareSheet(e.type)},null,8,["title","onClick"])))),128))])),_:2},1032,["title"])))),128)),l(u,{show:c.showShare,title:e.t("title"),description:c.description,options:c.curOptions,onSelect:h.onSelect,onClose:h.onClose},null,8,["show","title","description","options","onSelect","onClose"])])}]]);export{O as default};
