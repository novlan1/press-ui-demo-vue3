import{af as e,Q as t,G as a,a as s,H as l,J as i,_ as n,o,c as d,j as c,d as r,w as u,z as h,B as m,e as p,I as f,k as y,y as g,v as C,t as v}from"./index-8baf5b09.js";import{C as x,P as b}from"./relation.25345683.js";import{g as _}from"./parent-map.a476e3d9.js";function S({height:e,duration:t}){return[`height: ${e};`,`transition: height ${t}ms ease-in-out 0ms, top ${t}ms ease-in-out 0ms, -webkit-transform ${t}ms ease-in-out 0ms, transform ${t}ms ease-in-out 0ms;`,"transform-origin: 50% 50% 0px;"].join("")}function $(a,s,l){e(a,".press-collapse-item__content").then((e=>e.height)).then((e=>{!function(e,a,s,l){if(a){if(0===l){const t=0;e.animationStyle=S({height:"auto",duration:t})}else{const t=s?300:1;e.animationStyle=S({height:`${l}px`,duration:t}),setTimeout((()=>{e.animationStyle=S({height:"auto",duration:0})}),t)}return}e.animationStyle=S({height:`${l}px`,duration:1}),t((()=>{e.animationStyle=S({height:0,duration:300})}))}(a,s,l,e)}))}const k=n({i18n:{"zh-CN":{accordion:"手风琴",titleSlot:"自定义标题内容",text:"代码是写出来给人看的，附带能在机器上运行"},"en-US":{accordion:"Accordion",titleSlot:"Custom title",text:"Content"}},components:{PressCollapseItem:n({name:"PressCollapseItem",options:{...a,styleIsolation:"shared"},components:{PressCell:s},mixins:[x(_)],props:{size:{type:String,default:""},name:{type:String,default:""},title:{type:String,default:""},value:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},border:{type:Boolean,default:!0},isLink:{type:Boolean,default:!0},titleClass:{type:String,default:""},contentClass:{type:String,default:""},...l},emits:[],data:()=>({expanded:!1,animation:{},mounted:!1,animationStyle:"height: 0;"}),computed:{collapseItemClass(){const{disabled:e,expanded:t}=this;return i.bem2("collapse-item__title",{disabled:e,expanded:t})},collapseItemCustomClass:()=>"",wrapperClass:()=>i.bem2("collapse-item__wrapper")},mounted(){this.updateExpanded(),this.mounted=!0},methods:{updateExpanded(){if(!this[_])return;const{value:e,accordion:t}=this[_],{children:a=[]}=this[_],{name:s}=this,l=a.indexOf(this),i=null==s?l:s,n=t?e===i:(e||[]).some((e=>e===i));n!==this.expanded&&$(this,n,this.mounted),this.expanded=n},onClick(){if(this.disabled)return;const{name:e,expanded:t}=this,a=this[_].children.indexOf(this),s=null==e?a:e;this[_].switch(s,!t)}}},[["render",function(e,t,a,s,l,i){const n=y("press-cell");return o(),d("div",{class:m(e.customClass+" press-collapse-item "+(0!==e.index?"press-hairline--top":""))},[c(" 【修改点】cell增加center，垂直居中 "),r(n,{size:a.size,title:a.title,"title-class":a.titleClass,icon:a.icon,value:a.value,label:a.label,"is-link":a.isLink,clickable:a.clickable,border:a.border&&l.expanded,class:m(i.collapseItemClass),"custom-class":i.collapseItemCustomClass,"hover-class":"press-cell--hover",center:"",onClick:i.onClick},{title:u((()=>[h(e.$slots,"title",{},void 0,!0)])),"right-icon":u((()=>[h(e.$slots,"right-icon",{},void 0,!0)])),default:u((()=>[h(e.$slots,"value",{},void 0,!0)])),_:3},8,["size","title","title-class","icon","value","label","is-link","clickable","border","class","custom-class","onClick"]),p("div",{class:m(i.wrapperClass),style:f(l.animationStyle)},[p("div",{class:m(["press-collapse-item__content",a.contentClass])},[h(e.$slots,"default",{},void 0,!0)],2)],6)],2)}],["__scopeId","data-v-bc70c7c5"]]),PressCollapse:n({name:"PressCollapse",options:{...a},mixins:[b(_)],props:{value:{type:[Array,String],default:()=>[]},accordion:{type:Boolean,default:!1},border:{type:Boolean,default:!0},...l},watch:{value:{handler(){this.updateExpanded()}},accordion:{handler(){this.updateExpanded()}}},created(){this.children=[]},methods:{updateExpanded(){this.children.forEach((e=>{e.updateExpanded()}))},switch(e,t){const{accordion:a,value:s}=this,l=e;e=a?t?e:"":t?(s||[]).concat(e):(s||[]).filter((t=>t!==e)),t?this.$emit("open",l):this.$emit("close",l),this.$emit("change",e),this.$emit("input",e)}}},[["render",function(e,t,a,s,l,i){return o(),d("div",{class:m(e.customClass+" press-collapse "+(a.border?"press-hairline--top-bottom":""))},[h(e.$slots,"default")],2)}]]),PressIconPlus:g},data:()=>({activeNames:["1"],activeNames2:"1",activeNames3:["1"],activeNamesTitle:["1"],sectionStyle:"margin: 0;",headerStyle:"background: #f7f8fa;"}),methods:{onChange(e){console.log("onChange.value: ",e),this.activeNames=e},onChangeAccordion(e){this.activeNames2=e},onChangeDisabled(e){this.activeNames3=e},onChangeTitle(e){this.activeNamesTitle=e}}},[["render",function(e,t,a,s,l,i){const n=y("press-collapse-item"),c=y("press-collapse"),h=y("demo-block"),m=y("press-icon-plus");return o(),d("div",{class:"demo-wrap demo-wrap--gray"},[r(h,{title:e.t("basicUsage"),"section-style":l.sectionStyle,"header-style":l.headerStyle},{default:u((()=>[r(c,{value:l.activeNames,onChange:i.onChange},{default:u((()=>[r(n,{title:`${e.t("title")} 1`,name:"1"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"]),r(n,{title:`${e.t("title")} 2`,name:"2"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"]),r(n,{title:`${e.t("title")} 3`,name:"3"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","section-style","header-style"]),r(h,{title:e.t("accordion"),"header-style":l.headerStyle,"section-style":l.sectionStyle},{default:u((()=>[r(c,{value:l.activeNames2,accordion:"",onChange:i.onChangeAccordion},{default:u((()=>[r(n,{title:`${e.t("title")} A`,name:"1"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"]),r(n,{title:`${e.t("title")} B`,name:"2"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"]),r(n,{title:`${e.t("title")} C`,name:"3"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","header-style","section-style"]),r(h,{title:e.t("disabled"),"header-style":l.headerStyle,"section-style":l.sectionStyle},{default:u((()=>[r(c,{value:l.activeNames3,accordion:"",onChange:i.onChangeDisabled},{default:u((()=>[r(n,{title:`${e.t("title")} X`,name:"1"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"]),r(n,{title:`${e.t("title")} Y`,disabled:"",name:"2"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"]),r(n,{title:`${e.t("title")} Z`,name:"3",disabled:""},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","header-style","section-style"]),r(h,{title:e.t("titleSlot"),"section-style":l.sectionStyle,"header-style":l.headerStyle},{default:u((()=>[r(c,{value:l.activeNamesTitle,onChange:i.onChangeTitle},{default:u((()=>[r(n,{name:"1"},{title:u((()=>[p("div",null,[C(v(e.t("title"))+" 1 ",1),r(m,{name:"question-o"})])])),default:u((()=>[C(" "+v(e.t("text")),1)])),_:1}),r(n,{title:`${e.t("title")} 2`,name:"2",icon:"shop-o"},{default:u((()=>[C(v(e.t("text")),1)])),_:1},8,["title"])])),_:1},8,["value","onChange"])])),_:1},8,["title","section-style","header-style"])])}]]);export{k as default};
