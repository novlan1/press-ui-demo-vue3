import{I as e}from"./add-unit.f0f246b9.js";import{p as t}from"./component-handler.ad893af0.js";import{e as n}from"./adapter.23c657c0.js";function o({defaultOptions:o,component:l}){var i;let a={},r=[],d=!1,s={...o};const u=(null==(i=o.selector)?void 0:i.slice(1))||"component-default-id";function c({multiple:t,component:o,dialogId:l}){var i;if(e)return{};if(r=r.filter((e=>{return!e.$el.parentNode||(t=e.$el,document.body.contains(t));var t})),!r.length||t){const e=document.getElementById(l);(null==e?void 0:e.parentElement)&&e.parentElement.removeChild(e);const t=document.createElement("div");t.id=l,document.body.appendChild(t);const a=n(t,o);null==(i=null==a?void 0:a.$on)||i.call(a,"input",(e=>{a.value=e})),r.push(a)}return r[r.length-1]}function m(e={duration:0}){const n=c({multiple:d,component:l,dialogId:u});return e=t(e),e={...s,...a[e.type||s.type],...e},m.getOptions=()=>e,n.clear=()=>{n.setData({show:!1}),e.onClose&&e.onClose(),r=r.filter((e=>e!==n)),setTimeout((()=>{document.body.contains(n.$el)&&n.$el&&n.$el.parentNode.removeChild(n.$el)}),e.animationDuration||0)},n.set=(...e)=>{"function"==typeof n.$set?n.$set(n,...e):n[e[0]]=e[1]},n.setData(e),clearTimeout(n.timer),n.setData({show:!0}),e.duration>0&&(n.timer=setTimeout((()=>{n.clear()}),e.duration)),n}return m.clear=e=>{r.length&&(e?(r.forEach((e=>{e.clear()})),r=[]):d?r.shift().clear():r[0].clear())},m.setDefaultOptions=(e,t)=>{"string"==typeof e?a[e]=t:Object.assign(s,e)},m.resetDefaultOptions=e=>{"string"==typeof e?a[e]=null:(s={...o},a={})},m.allowMultiple=(e=!0)=>{d=e},m.install=()=>{},m}function l(e,t,o={}){const l=t,i=document.getElementById(l);(null==i?void 0:i.parentNode)&&i.parentNode.removeChild(i);const a=document.createElement("div");a.id=l,document.body.appendChild(a);return n(a,e,o)}export{o as g,l as i};
