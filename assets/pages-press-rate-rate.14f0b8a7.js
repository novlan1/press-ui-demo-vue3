import{_ as e,q as t,z as a,u as l,A as o,V as n,o as s,c as i,a as u,F as c,k as r,n as d,b as m,i as h,f as C,d as g,e as f,j as v}from"./index-acb93e14.js";const y=e({i18n:{"zh-CN":{halfStar:"半星",disabled:"禁用状态",customIcon:"自定义图标",customImage:"自定义图片",customStyle:"自定义样式",customCount:"自定义数量",readonly:"只读状态",changeEvent:"监听 change 事件",toastContent:e=>`当前值：${e}`},"en-US":{halfStar:"Half Star",disabled:"Disabled",customImage:"Custom Image",customIcon:"Custom Icon",customStyle:"Custom Style",customCount:"Custom Count",readonly:"Readonly",changeEvent:"Change Event",toastContent:e=>`current value：${e}`}},components:{PressRate:e({name:"PressRate",components:{PressIconPlus:t},field:!0,props:{value:{type:Number,default:0},readonly:Boolean,disabled:Boolean,allowHalf:Boolean,size:{type:[String,Number],default:""},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},color:{type:String,default:""},voidColor:{type:String,default:""},disabledColor:{type:String,default:""},count:{type:Number,default:5},gutter:{type:[Number,String],default:""},touchable:{type:Boolean,default:!0},customClass:{type:String,default:""},iconClass:{type:String,default:""}},emits:["input","change"],data:()=>({innerValue:0,innerCountArray:Array.from({length:5}),utils:a,style:l}),computed:{iconStyle(){return l({fontSize:a.addUnit(this.size)})},iconCustomStyle:()=>""},watch:{value:{handler(e){e!==this.innerValue&&(this.innerValue=e)},immediate:!0},count:{handler(e){this.innerCountArray=Array.from({length:e})},immediate:!0}},methods:{onSelect(e){this.disabled||this.readonly||(this.innerValue=e+1,o((()=>{this.$emit("input",e+1),this.$emit("change",e+1)})))},onTouchMove(e){const{touchable:t}=this;if(!t)return;const{clientX:a}=e.touches[0];n(this,".press-rate__icon").then((e=>{const t=e.sort(((e,t)=>e.x-t.x)).find((e=>a>=e.left&&a<=e.right)),l=e.indexOf(t);null!=t&&this.onSelect(l)}))},getIconBaseClass(e){const{disabled:t,innerValue:l}=this;return a.bem2("rate__icon",[{disabled:t,full:e+1<=l}])},getIconHalfClass(e){const{disabled:t,innerValue:l}=this;return a.bem2("rate__icon",["half",{disabled:t,full:e+.5<=l}])},getIconBaseCustomClass(e){return this.iconClass},getIconHalfCustomClass(e){return this.iconClass}}},[["render",function(e,t,a,l,o,n){const v=f("press-icon-plus");return s(),i("div",{class:"press-rate-index"},[u("div",{class:d([o.utils.bem2("rate"),a.customClass]),onTouchmove:t[0]||(t[0]=(...e)=>n.onTouchMove&&n.onTouchMove(...e))},[(s(!0),i(c,null,r(o.innerCountArray,((e,t)=>(s(),i("div",{key:t,class:d([o.utils.bem2("rate__item")]),style:m(""+o.style({paddingRight:t!==a.count-1?o.utils.addUnit(a.gutter):null}))},[h(v,{name:t+1<=o.innerValue?a.icon:a.voidIcon,class:d([n.getIconBaseClass(t)]),style:m(""+n.iconStyle),"custom-class":n.getIconBaseCustomClass(t),"custom-style":n.iconCustomStyle,"data-score":t,color:a.disabled?a.disabledColor:t+1<=o.innerValue?a.color:a.voidColor,onClick:e=>n.onSelect(t)},null,8,["name","class","style","custom-class","custom-style","data-score","color","onClick"]),a.allowHalf?(s(),C(v,{key:0,name:t+.5<=o.innerValue?a.icon:a.voidIcon,class:d([n.getIconHalfClass(t)]),style:m(""+n.iconStyle),"custom-class":n.getIconHalfCustomClass(t),"custom-style":n.iconCustomStyle,"data-score":t-.5,color:a.disabled?a.disabledColor:t+.5<=o.innerValue?a.color:a.voidColor,onClick:e=>n.onSelect(t-.5)},null,8,["name","class","style","custom-class","custom-style","data-score","color","onClick"])):g("v-if",!0)],6)))),128))],34)])}],["__scopeId","data-v-043c4bd2"]])},data:()=>({value:3,half:2.5}),methods:{onChange(e){this.onGTip(`value: ${e}`)}}},[["render",function(e,t,a,l,o,n){const u=f("press-rate"),c=f("demo-block");return s(),i("div",{class:"wrap"},[h(c,{title:e.t("basicUsage")},{default:v((()=>[h(u,{value:3,"custom-class":"press-rate--demo-class",onChange:n.onChange},null,8,["onChange"])])),_:1},8,["title"]),h(c,{title:e.t("customIcon")},{default:v((()=>[h(u,{value:o.value,icon:"like","void-icon":"like-o",onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"]),h(c,{title:e.t("customImage")},{default:v((()=>[h(u,{value:o.value,"void-icon":"https://image-1251917893.file.myqcloud.com/Esports/new/user/star.png",icon:"https://image-1251917893.file.myqcloud.com/Esports/new/user/sel-star.png",onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"]),h(c,{title:e.t("customStyle")},{default:v((()=>[h(u,{value:o.value,size:25,color:"#ffd21e","void-icon":"star","void-color":"#eee",onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"]),h(c,{title:e.t("halfStar")},{default:v((()=>[h(u,{value:o.half,"allow-half":"","void-icon":"star","void-color":"#eee",onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"]),h(c,{title:e.t("customCount")},{default:v((()=>[h(u,{value:o.value,count:6,onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"]),h(c,{title:e.t("disabled")},{default:v((()=>[h(u,{value:o.value,disabled:"",onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"]),h(c,{title:e.t("readonly")},{default:v((()=>[h(u,{value:o.value,readonly:"",onChange:n.onChange},null,8,["value","onChange"])])),_:1},8,["title"])])}],["__scopeId","data-v-585b4bf7"]]);export{y as default};
