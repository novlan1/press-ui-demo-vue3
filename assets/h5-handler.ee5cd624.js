import{e,I as t}from"./add-unit.b5ba58ff.js";import{p as n}from"./component-handler.29f5e688.js";function o({defaultOptions:o,component:l}){var i;let a={},r=[],d=!1,s={...o};const u=(null==(i=o.selector)?void 0:i.slice(1))||"component-default-id";function c({multiple:n,component:o,dialogId:l}){var i;if(t)return{};if(r=r.filter((e=>{return!e.$el.parentNode||(t=e.$el,document.body.contains(t));var t})),!r.length||n){const t=document.getElementById(l);(null==t?void 0:t.parentElement)&&t.parentElement.removeChild(t);const n=document.createElement("div");n.id=l,document.body.appendChild(n);const a=e(n,o);null==(i=null==a?void 0:a.$on)||i.call(a,"input",(e=>{a.value=e})),r.push(a)}return r[r.length-1]}function m(e={duration:0}){const t=c({multiple:d,component:l,dialogId:u});return e=n(e),e={...s,...a[e.type||s.type],...e},m.getOptions=()=>e,t.clear=()=>{t.setData({show:!1}),e.onClose&&e.onClose(),r=r.filter((e=>e!==t)),setTimeout((()=>{document.body.contains(t.$el)&&t.$el&&t.$el.parentNode.removeChild(t.$el)}),e.animationDuration||0)},t.set=(...e)=>{"function"==typeof t.$set?t.$set(t,...e):t[e[0]]=e[1]},t.setData(e),clearTimeout(t.timer),t.setData({show:!0}),e.duration>0&&(t.timer=setTimeout((()=>{t.clear()}),e.duration)),t}return m.clear=e=>{r.length&&(e?(r.forEach((e=>{e.clear()})),r=[]):d?r.shift().clear():r[0].clear())},m.setDefaultOptions=(e,t)=>{"string"==typeof e?a[e]=t:Object.assign(s,e)},m.resetDefaultOptions=e=>{"string"==typeof e?a[e]=null:(s={...o},a={})},m.allowMultiple=(e=!0)=>{d=e},m.install=()=>{},m}function l(t,n,o={}){const l=n,i=document.getElementById(l);(null==i?void 0:i.parentNode)&&i.parentNode.removeChild(i);const a=document.createElement("div");a.id=l,document.body.appendChild(a);return e(a,t,o)}export{o as g,l as i};
