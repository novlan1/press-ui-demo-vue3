import{u as e,v as s,x as t,q as a,y as l,z as i,A as o,_ as n,o as c,c as r,n as d,w as u,r as h,d as b,a as p,f as m,b as C,e as f}from"./index-c83a250c.js";import{C as y}from"./relation.8b10893c.js";import{a as g}from"./parent-map.b443f4cc.js";import{f as k}from"./parent.59fa8a22.js";const S={iconStyle:function(t,a,l,i,o){const n={"font-size":s(o),"line-height":"1.25em"};return t&&a&&!l&&!i&&(n["border-color"]=t,n["background-color"]=t),e(n)}};function v(e,s){e.$emit("input",s),e.$emit("change",s)}const x=n({name:"PressCheckbox",options:{...t},components:{PressIconPlus:a},mixins:[y(g)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:String,default:""},...l},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{innerLabelClass(){const{labelClass:e,labelPosition:s,disabled:t,parentDisabled:a}=this;return`${e} ${i.bem2("checkbox__label",[s,{disabled:t||a}])}`},checkboxClass(){const{direction:e,customClass:s}=this;return`${i.bem2("checkbox",[{horizontal:"horizontal"===e}])} ${s}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:l}=this;return S.iconStyle(e,s,t,a,l)},innerIconClass(){const{shape:e,disabled:s,parentDisabled:t,dataValue:a}=this;return`${i.bem2("checkbox__icon",[e,{disabled:s||t,checked:a}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle:()=>"line-height: 1.25em;"},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[g]&&this[g].updateChildren()},setData(e){Object.keys(e).forEach((s=>{this[s]=e[s]}))},emitChange(e){this[g]?this.setParentValue(this[g],e):v(this,e),o((()=>{k(this,"change")}))},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;s||e||this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;t||e||s||this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:l}=e;if(s){if(l&&t.length>=l)return;-1===t.indexOf(a)&&(t.push(a),v(e,t))}else{const s=t.indexOf(a);-1!==s&&(t.splice(s,1),v(e,t))}}}},[["render",function(e,s,t,a,l,i){const o=f("press-icon-plus");return c(),r("div",{class:d(i.checkboxClass),style:C(t.customStyle)},["left"===t.labelPosition?(c(),r("div",{key:0,class:d(i.innerLabelClass),onClick:s[0]||(s[0]=u(((...e)=>i.onClickLabel&&i.onClickLabel(...e)),["stop"]))},[h(e.$slots,"default",{},void 0,!0)],2)):b("v-if",!0),p("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=u(((...e)=>i.toggle&&i.toggle(...e)),["stop"]))},[t.useIconSlot?h(e.$slots,"icon",{key:0},void 0,!0):(c(),m(o,{key:1,name:"success",size:"0.8em",style:C(i.iconStyle),class:d(i.innerIconClass),"custom-class":i.iconCustomClass,"custom-style":i.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),"right"===t.labelPosition?(c(),r("div",{key:1,class:d(i.innerLabelClass),onClick:s[2]||(s[2]=u(((...e)=>i.onClickLabel&&i.onClickLabel(...e)),["stop"]))},[h(e.$slots,"default",{},void 0,!0)],2)):b("v-if",!0)],6)}],["__scopeId","data-v-1ae65de9"]]);export{x as P};
