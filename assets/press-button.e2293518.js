import{P as e}from"./press-icon-plus.5b31fcda.js";import{P as s}from"./press-loading-plus.09244c8c.js";import{P as o}from"./press-loading.9ba2fd4b.js";import{b as t}from"./button.5bbaba1c.js";import{a}from"./version.b0e3684c.js";import{u as n,i as r}from"./utils.25f549d7.js";import{s as i}from"./style.0f94ff97.js";import{d as l,a as p}from"./press-component.c6e26072.js";import{_ as d,o as c,c as u,q as g,F as m,h as f,t as y,f as h,i as b,r as k,n as S,j as C,x,e as P}from"./index-208ac2ea.js";const v=["normal","large","small","mini"];function j(e){const s=function(e){const s={},{size:o}=e;return o&&("string"===o&&v.indexOf(o)<=-1?(s.height=o,s.width=o):"object"==typeof o&&(o.height&&(s.height=o.height),o.width&&(s.width=o.width))),s}(e);if(!e.color)return i([s,e.customStyle]);const o={color:e.plain?e.color:"#fff",background:e.plain?null:e.color,...s};return-1!==e.color.indexOf("gradient")?o.border=0:o["border-color"]=e.color,i([o,e.customStyle])}const T={"e-sport-primary":["e-sport-primary"],"e-sport-primary-bg":["e-sport-primary","e-sport-bg"],"e-sport-primary-bg-lg":["e-sport-primary","e-sport-bg","e-sport-bg-lg"],"e-sport-primary-bg-xl":["e-sport-primary","e-sport-bg","e-sport-bg-xl"],"e-sport-secondary":["e-sport-secondary"],"e-sport-border":["e-sport-border"]},F=[t];a()&&F.push("wx://form-field-button");const I=d({name:"PressButton",options:{virtualHost:!0,...l,styleIsolation:"shared"},components:{PressIconPlus:e,PressLoadingPlus:s,PressLoading:o},mixins:F,props:{formType:{type:String,default:""},icon:{type:String,default:""},classPrefix:{type:String,default:"press-icon-plus"},plain:Boolean,block:Boolean,round:Boolean,square:Boolean,loading:{type:Boolean,default:!1},hairline:Boolean,disabled:Boolean,loadingText:{type:String,default:""},customStyle:{type:String,default:""},loadingType:{type:String,default:"circular"},type:{type:String,default:"default"},dataset:{type:[Object,null],default:null},size:{type:[String,Object],default:"normal"},loadingSize:{type:String,default:"20px"},color:{type:String,default:""},...p},emits:["click","getuserinfo"],data:()=>({baseStyle:""}),computed:{isESportLoading(){return this.loading&&T[this.type]},buttonClass(){const{type:e,size:s,block:o,round:t,plain:a,square:r,loading:i,disabled:l,hairline:p,customClass:d}=this,c=v.indexOf(s)>-1?s:"";let u=[],g=e;if(T[e]&&(u=T[e],g=""),e.indexOf("-disabled")>-1){const s=e.replace("-disabled","");u=[...T[s],"e-sport-disabled"]}return`${d} ${n.bem2("button",[g,c,...u,{block:o,round:t,plain:a,square:r,loading:i,disabled:l,hairline:p,unclickable:l||i}])} ${p?"press-hairline--surround":""}`},buttonStyle(){const{plain:e,color:s,customStyle:o,size:t}=this;return j({plain:e,color:s,customStyle:o,size:t})},loadingColor(){const{type:e,color:s,plain:o}=this;return(t={type:e,color:s,plain:o}).plain?t.color?t.color:"#c9c9c9":"default"===t.type?"#c9c9c9":"#fff";var t}},methods:{onFakeClick(e){r()&&this.realFakeClick(e)},realFakeClick(e){const{disabled:s,loading:o}=this;s||o||this.onClick(e)},onFakeTap(e){r()||this.realFakeClick(e)},onClick(e){this.$emit("click",e);const{canIUseGetUserProfile:s,openType:o,getUserProfileDesc:t,lang:a}=this;"getUserInfo"===o&&s&&uni.getUserProfile({desc:t||"  ",lang:a||"en",complete:e=>{this.$emit("getuserinfo",e)}})}}},[["render",function(e,s,o,t,a,n){const r=P("PressLoading"),i=P("press-loading-plus"),l=P("press-icon-plus");return c(),u("Button",{id:e.id,"data-detail":o.dataset,class:S(n.buttonClass),"hover-class":["press-button--active",e.hoverClass],lang:e.lang,"form-type":o.formType,style:C(n.buttonStyle),"open-type":o.disabled||o.loading||e.canIUseGetUserProfile&&"getUserInfo"===e.openType?"":e.openType,"business-id":e.businessId,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,"aria-label":e.ariaLabel,onClick:[s[0]||(s[0]=x(((...e)=>n.onFakeClick&&n.onFakeClick(...e)),["stop"])),s[1]||(s[1]=x(((...e)=>n.onFakeTap&&n.onFakeTap(...e)),["stop"]))],onGetuserinfo:s[2]||(s[2]=(...s)=>e.onGetUserInfo&&e.onGetUserInfo(...s)),onContact:s[3]||(s[3]=(...s)=>e.onContact&&e.onContact(...s)),onGetphonenumber:s[4]||(s[4]=(...s)=>e.onGetPhoneNumber&&e.onGetPhoneNumber(...s)),onError:s[5]||(s[5]=(...s)=>e.onError&&e.onError(...s)),onLaunchapp:s[6]||(s[6]=(...s)=>e.onLaunchApp&&e.onLaunchApp(...s)),onOpensetting:s[7]||(s[7]=(...s)=>e.onOpenSetting&&e.onOpenSetting(...s)),onChooseavatar:s[8]||(s[8]=(...s)=>e.onChooseAvatar&&e.onChooseAvatar(...s))},[n.isESportLoading?(c(),g(r,{key:0,"loading-scenes":"btn"})):o.loading?(c(),u(m,{key:1},[f(i,{"custom-class":e.loadingClass,size:o.loadingSize,type:o.loadingType,color:n.loadingColor},null,8,["custom-class","size","type","color"]),o.loadingText?(c(),u("div",{key:0,class:"press-button__loading-text"},y(o.loadingText),1)):h("v-if",!0)],64)):(c(),u(m,{key:2},[o.icon?(c(),g(l,{key:0,size:"1.2em",name:o.icon,"class-prefix":o.classPrefix,class:"press-button__icon","custom-style":"line-height: inherit;"},null,8,["name","class-prefix"])):h("v-if",!0),b("div",{class:"press-button__text"},[k(e.$slots,"default",{},void 0,!0)])],64))],46,["id","data-detail","hover-class","lang","form-type","open-type","business-id","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","aria-label"])}],["__scopeId","data-v-9a3e5622"]]);export{I as P};
