import{_ as e,o as t,a as s,w as o,c as n,u as i,t as a,j as l,b as c,F as r,r as p,y as d,x as h,v as m,k as u,d as f,B as y}from"./index-26897e9f.js";import{P as g}from"./press-icon-plus.cec3bc23.js";import{P as C}from"./press-popup-plus.4276f099.js";import{P as b}from"./press-loading-plus.3f0fdd35.js";import{b as k}from"./button.3e831465.js";import{d as v,a as O}from"./press-component.5db9b2cc.js";import{u as w}from"./utils.f8cec38d.js";import{P as S}from"./press-cell.09949a8d.js";import"./add-unit.e5b08e9d.js";import"./press-info.8af1a743.js";import"./press-overlay.024e8d5d.js";import"./press-transition.05dfd399.js";import"./version.066ec1d4.js";import"./link.9c6737a1.js";import"./event.ab14895d.js";import"./support-passive.bc409298.js";const P=e({i18n:{"zh-CN":{custom:"自定义",option1:"选项一",option2:"选项二",option3:"选项三",subname:"描述信息",showCancel:"展示取消按钮",buttonText:"弹出菜单",customPanel:"自定义面板",description:"这是一段描述信息",optionStatus:"选项状态",coloredOption:"着色选项",disabledOption:"禁用选项",showDescription:"展示描述信息",wxOpen:"微信开放能力",qqOpen:"QQ开放能力",alipayOpen:"支付宝开放能力",mpOpen:"小程序开放能力",getUserInfo:"获取用户信息"},"en-US":{custom:"Custom",option1:"Option 1",option2:"Option 2",option3:"Option 3",subname:"Description",showCancel:"Show Cancel Button",buttonText:"Show ActionSheet",customPanel:"Custom Panel",description:"Description",optionStatus:"Option Status",coloredOption:"Colored Option",disabledOption:"Disabled Option",showDescription:"Show Description",wxOpen:"Wechat Open API",qqOpen:"QQ Open API",alipayOpen:"Alipay Open API",mpOpen:"Mini Program Open API",getUserInfo:"Get User Info"}},components:{PressActionSheet:e({name:"PressActionSheet",options:{...v,styleIsolation:"shared"},components:{PressIconPlus:g,PressPopup:C,PressLoading:b},mixins:[k],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...O},emits:["select","close","cancel","click-overlay","getuserinfo"],data:()=>({}),methods:{getActionClass:e=>`${w.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`,getOpenType(e){const{canIUseGetUserProfile:t}=this;return e.disabled||e.loading||t&&"getUserInfo"===e.openType?"":e.openType},onFakeSelect(e,t){e.disabled||e.loading||this.onSelect(e,t)},onSelect(e){const{closeOnClickAction:t,canIUseGetUserProfile:s}=this;e&&(this.$emit("select",e),t&&this.onClose(),"getUserInfo"===e.openType&&s&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:e=>{this.$emit("getuserinfo",e)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},[["render",function(e,g,C,b,k,v){const O=f("press-icon-plus"),w=f("press-loading"),S=y,P=f("press-popup");return t(),s(P,{show:C.show,position:"bottom",round:C.round,"z-index":C.zIndex,overlay:C.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":C.safeAreaInsetBottom,"close-on-click-overlay":C.closeOnClickOverlay,onClose:v.onClickOverlay},{default:o((()=>[C.title?(t(),n("div",{key:0,class:"press-action-sheet__header"},[i(a(C.title)+" ",1),l(O,{name:"cross","custom-class":"press-action-sheet__close",onClick:v.onClose},null,8,["onClick"])])):c("v-if",!0),C.description?(t(),n("div",{key:1,class:"press-action-sheet__description press-hairline--bottom"},a(C.description),1)):c("v-if",!0),C.actions&&C.actions.length?(t(),n("div",{key:2},[(t(!0),n(r,null,p(C.actions,((l,p)=>(t(),s(S,{key:p,"open-type":v.getOpenType(l),style:d(l.color?"color: "+l.color:""),class:h(v.getActionClass(l)),"hover-class":"press-action-sheet__item--hover","data-index":p,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>v.onFakeSelect(l,p),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting},{default:o((()=>[l.loading?(t(),s(w,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(t(),n(r,{key:0},[i(a(l.name)+" ",1),l.subname?(t(),n("div",{key:0,class:"press-action-sheet__subname"},a(l.subname),1)):c("v-if",!0)],64))])),_:2},1032,["open-type","style","class","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting"])))),128))])):c("v-if",!0),m(e.$slots,"default",{},void 0,!0),C.cancelText?(t(),n(r,{key:3},[u("div",{class:"press-action-sheet__gap"}),u("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:g[0]||(g[0]=(...e)=>v.onCancel&&v.onCancel(...e))},a(C.cancelText),1)],64)):c("v-if",!0)])),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}],["__scopeId","data-v-02e990c6"]]),PressCell:S},data(){return{demoList:[{title:this.t("basicUsage"),list:[{title:this.t("check"),type:"basic"}]},{title:this.t("custom"),list:[{title:this.t("optionStatus"),type:"status"},{title:this.t("showCancel"),type:"cancel"},{title:this.t("showDescription"),type:"description"},{title:this.t("customPanel"),type:"title"}]}],show:!1,showCustom:!1,cancelText:"",description:"",title:"",curActions:[]}},computed:{actions(){return[{name:this.t("option1")},{name:this.t("option2")},{name:this.t("option3"),subname:this.t("subname"),openType:"share"}]}},mounted(){this.curActions=this.actions},methods:{onShowActionSheet(e){const t=[{name:this.t("coloredOption"),color:"#ee0a24"},{loading:!0},{name:this.t("disabledOption"),disabled:!0}],s=[{name:this.t("getUserInfo"),color:"#07c160",openType:"getUserInfo"}];let o="",n="",i=[],a="";switch(e){case"title":return void(this.showCustom=!0);case"basic":i=this.actions;break;case"wxOpen":i=s,a=this.t("title");break;case"status":i=t;break;case"cancel":i=this.actions,o=this.t("cancel");break;case"description":i=this.actions,n=this.t("description")}this.show=!0,this.cancelText=o,this.description=n,this.curActions=i,this.title=a},onClose(){this.show=!1,this.showCustom=!1},onSelect(e){console.log("onSelect.e",e)},onGetUserInfo(e){console.log("onGetUserInfo.e",e)}}},[["render",function(e,i,c,d,h,m){const y=f("press-cell"),g=f("demo-block"),C=f("press-action-sheet");return t(),n("div",{class:"demo-wrap"},[(t(!0),n(r,null,p(h.demoList,((e,i)=>(t(),s(g,{key:i,title:e.title},{default:o((()=>[(t(!0),n(r,null,p(e.list,(e=>(t(),s(y,{key:e.title,title:e.title,"is-link":"",onClick:t=>m.onShowActionSheet(e.type)},null,8,["title","onClick"])))),128))])),_:2},1032,["title"])))),128)),l(C,{show:h.show,actions:h.curActions,"cancel-text":h.cancelText,description:h.description,title:h.title,onClose:m.onClose,onSelect:m.onSelect,onGetuserinfo:m.onGetUserInfo,onCancel:m.onClose},null,8,["show","actions","cancel-text","description","title","onClose","onSelect","onGetuserinfo","onCancel"]),l(C,{show:h.showCustom,title:e.t("title"),onClose:m.onClose,onSelect:m.onSelect,onCancel:m.onClose},{default:o((()=>[u("div",{style:{padding:"16px"}},a(e.t("content")),1)])),_:1},8,["show","title","onClose","onSelect","onCancel"])])}]]);export{P as default};
