function t(t,i={}){const n=i.indexKey||"index";return{inject:{[t]:{default:null}},computed:{[n](){const i=this;return i.bindRelation(),i[t]?i[t].children.indexOf(this):null}},watch:{disableBindRelation(t){t||this.bindRelation()}},created(){},mounted(){this.bindRelation()},beforeDestroy(){var i;const n=this;n[t]&&(n[t].children=n[t].children.filter((t=>t!==n)),null==(i=null==n?void 0:n.destroyCallback)||i.call(n))},methods:{bindRelation(){if(!this[t]||-1!==this[t].children.indexOf(this))return;const i=[...this[t].children,this];try{this[t]}catch(n){console.log("err",n)}this[t].children=i}}}}function i(t){return{provide(){return{[t]:this}},data:()=>({})}}export{t as C,i as P};
