import{_ as e,x as s,q as o,s as t,ab as n,y as a,z as l,o as i,f as c,j as r,c as p,h as d,t as m,i as h,d as u,F as y,k as g,b as f,n as v,r as k,a as C,e as _,B as P}from"./index-dc5fce78.js";import{P as b}from"./press-popup-plus.8f4bd2d2.js";const x=e({name:"PressActionSheet",options:{...s,styleIsolation:"shared"},components:{PressIconPlus:o,PressPopup:b,PressLoading:t},mixins:[n],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...a},emits:["select","close","cancel","click-overlay","getuserinfo"],data:()=>({}),methods:{getActionClass:e=>`${l.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`,getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&"getUserInfo"===e.openType?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:o}=this;e&&(this.$emit("select",e),s&&this.onClose(),"getUserInfo"===e.openType&&o&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:e=>{this.$emit("getuserinfo",e)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},[["render",function(e,s,o,t,n,a){const l=_("PressIconPlus"),b=_("PressLoading"),x=P,I=_("PressPopup");return i(),c(I,{show:o.show,position:"bottom",round:o.round,"z-index":o.zIndex,overlay:o.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":o.safeAreaInsetBottom,"close-on-click-overlay":o.closeOnClickOverlay,onClose:a.onClickOverlay},{default:r((()=>[o.title?(i(),p("div",{key:0,class:"press-action-sheet__header"},[d(m(o.title)+" ",1),h(l,{name:"cross","custom-class":"press-action-sheet__close",onClick:a.onClose},null,8,["onClick"])])):u("v-if",!0),o.description?(i(),p("div",{key:1,class:"press-action-sheet__description press-hairline--bottom"},m(o.description),1)):u("v-if",!0),o.actions&&o.actions.length?(i(),p("div",{key:2},[(i(!0),p(y,null,g(o.actions,((s,o)=>(i(),c(x,{key:o,"open-type":a.getOpenType(s),style:f(s.color?"color: "+s.color:""),class:v(a.getActionClass(s)),"hover-class":"press-action-sheet__item--hover","data-index":o,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>a.onFakeSelect(s,o),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting},{default:r((()=>[s.loading?(i(),c(b,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(i(),p(y,{key:0},[d(m(s.name)+" ",1),s.subname?(i(),p("div",{key:0,class:"press-action-sheet__subname"},m(s.subname),1)):u("v-if",!0)],64))])),_:2},1032,["open-type","style","class","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting"])))),128))])):u("v-if",!0),k(e.$slots,"default",{},void 0,!0),o.cancelText?(i(),p(y,{key:3},[C("div",{class:"press-action-sheet__gap"}),C("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:s[0]||(s[0]=(...e)=>a.onCancel&&a.onCancel(...e))},m(o.cancelText),1)],64)):u("v-if",!0)])),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}],["__scopeId","data-v-f4186f30"]]);export{x as P};
