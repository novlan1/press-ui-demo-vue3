import{d as e,a as s}from"./press-component.181873fd.js";import{P as t,C as i}from"./relation.8b10893c.js";import{i as a}from"./parent-map.b443f4cc.js";import{_ as r,o,c as n,h as d,r as l,n as c,x as m,e as p,t as u,j as h}from"./index-43eb3ea0.js";import{P as f}from"./press-info.68d3dd51.js";import{u as v}from"./utils.bb2d8d10.js";const b=r({name:"PressSidebar",options:{...e,styleIsolation:"shared"},mixins:[t(a)],props:{activeKey:{type:Number,default:0},...s},watch:{activeKey:{handler(e){this.setActive(e)}}},beforeCreate(){this.currentActive=-1},created(){this.children=[]},mounted(){this.setActive(this.activeKey)},methods:{setActive(e){const{children:s,currentActive:t}=this;if(!s.length)return Promise.resolve();this.currentActive=e;const i=[];return t!==e&&s[t]&&i.push(s[t].setActive(!1)),s[e]&&i.push(s[e].setActive(!0)),Promise.all(i)}}},[["render",function(e,s,t,i,a,r){return o(),n("div",{class:"press-sidebar-index"},[d("div",{class:c(["press-sidebar",e.customClass])},[l(e.$slots,"default",{},void 0,!0)],2)])}],["__scopeId","data-v-35811abf"]]);const y=r({name:"PressSidebarItem",options:{...e,styleIsolation:"shared"},components:{PressInfo:f},mixins:[i(a)],props:{dot:Boolean,badge:{type:[String,Number],default:""},info:{type:[String,Number],default:""},title:{type:String,default:""},disabled:Boolean,...s,activeClass:{type:String,default:""},disabledClass:{type:String,default:""}},emits:["click","change"],data:()=>({utils:v,selected:!1}),computed:{sidebarItemClass(){const{selected:e,disabled:s,customClass:t,activeClass:i,disabledClass:a}=this;return`${v.bem2("sidebar-item",{selected:e,disabled:s})} ${e?i:""} ${s?a:""} ${t}`}},mounted(){},methods:{onClick(){const e=this[a];if(!e||this.disabled)return;const s=e.children.indexOf(this);e.setActive(s).then((()=>{this.$emit("click",s),e.$emit("change",s)}))},setActive(e){this.selected=e}}},[["render",function(e,s,t,i,a,r){const f=h("press-info");return o(),n("div",{class:"press-sidebar-item-index"},[d("div",{class:c(r.sidebarItemClass),"hover-class":"press-sidebar-item--hover","hover-stay-time":"70",onClick:s[0]||(s[0]=(...e)=>r.onClick&&r.onClick(...e))},[d("div",{class:"press-sidebar-item__text"},[null!=t.badge||null!==t.info||t.dot?(o(),m(f,{key:0,dot:t.dot,info:null!=t.badge?t.badge:t.info},null,8,["dot","info"])):p("v-if",!0),t.title?(o(),n("div",{key:1},u(t.title),1)):l(e.$slots,"title",{key:2},void 0,!0)])],2)])}],["__scopeId","data-v-afc6f4b2"]]);export{b as P,y as a};
