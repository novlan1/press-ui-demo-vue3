import{_ as e,G as t,y as s,A as o,a7 as n,H as i,J as a,o as l,h as c,w as r,c as p,v as d,t as h,d as u,j as m,F as y,g,I as C,B as f,z as O,e as k,k as w,a8 as b,a as v}from"./index-8baf5b09.js";import{P as S}from"./press-popup-plus.26c14428.js";const _=e({i18n:{"zh-CN":{custom:"自定义",option1:"选项一",option2:"选项二",option3:"选项三",subname:"描述信息",showCancel:"展示取消按钮",buttonText:"弹出菜单",customPanel:"自定义面板",description:"这是一段描述信息",optionStatus:"选项状态",coloredOption:"着色选项",disabledOption:"禁用选项",showDescription:"展示描述信息",wxOpen:"微信开放能力",qqOpen:"QQ开放能力",alipayOpen:"支付宝开放能力",mpOpen:"小程序开放能力",getUserInfo:"获取用户信息"},"en-US":{custom:"Custom",option1:"Option 1",option2:"Option 2",option3:"Option 3",subname:"Description",showCancel:"Show Cancel Button",buttonText:"Show ActionSheet",customPanel:"Custom Panel",description:"Description",optionStatus:"Option Status",coloredOption:"Colored Option",disabledOption:"Disabled Option",showDescription:"Show Description",wxOpen:"Wechat Open API",qqOpen:"QQ Open API",alipayOpen:"Alipay Open API",mpOpen:"Mini Program Open API",getUserInfo:"Get User Info"}},components:{PressActionSheet:e({name:"PressActionSheet",options:{...t,styleIsolation:"shared"},components:{PressIconPlus:s,PressPopup:S,PressLoading:o},mixins:[n],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...i},emits:["select","close","cancel","click-overlay","getuserinfo"],data:()=>({}),methods:{getActionClass:e=>`${a.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`,getOpenType(e){const{canIUseGetUserProfile:t}=this;return e.disabled||e.loading||t&&"getUserInfo"===e.openType?"":e.openType},onFakeSelect(e,t){e.disabled||e.loading||this.onSelect(e,t)},onSelect(e){const{closeOnClickAction:t,canIUseGetUserProfile:s}=this;e&&(this.$emit("select",e),t&&this.onClose(),"getUserInfo"===e.openType&&s&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:e=>{this.$emit("getuserinfo",e)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},[["render",function(e,t,s,o,n,i){const a=w("press-icon-plus"),v=w("press-loading"),S=b,_=w("press-popup");return l(),c(_,{show:s.show,position:"bottom",round:s.round,"z-index":s.zIndex,overlay:s.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":s.safeAreaInsetBottom,"close-on-click-overlay":s.closeOnClickOverlay,onClose:i.onClickOverlay},{default:r((()=>[s.title?(l(),p("div",{key:0,class:"press-action-sheet__header"},[d(h(s.title)+" ",1),u(a,{name:"cross","custom-class":"press-action-sheet__close",onClick:i.onClose},null,8,["onClick"])])):m("v-if",!0),s.description?(l(),p("div",{key:1,class:"press-action-sheet__description press-hairline--bottom"},h(s.description),1)):m("v-if",!0),s.actions&&s.actions.length?(l(),p("div",{key:2},[(l(!0),p(y,null,g(s.actions,((t,s)=>(l(),c(S,{key:s,"open-type":i.getOpenType(t),style:C(t.color?"color: "+t.color:""),class:f(i.getActionClass(t)),"hover-class":"press-action-sheet__item--hover","data-index":s,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>i.onFakeSelect(t,s),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting},{default:r((()=>[t.loading?(l(),c(v,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(l(),p(y,{key:0},[d(h(t.name)+" ",1),t.subname?(l(),p("div",{key:0,class:"press-action-sheet__subname"},h(t.subname),1)):m("v-if",!0)],64))])),_:2},1032,["open-type","style","class","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting"])))),128))])):m("v-if",!0),O(e.$slots,"default",{},void 0,!0),s.cancelText?(l(),p(y,{key:3},[k("div",{class:"press-action-sheet__gap"}),k("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:t[0]||(t[0]=(...e)=>i.onCancel&&i.onCancel(...e))},h(s.cancelText),1)],64)):m("v-if",!0)])),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}],["__scopeId","data-v-899d0332"]]),PressCell:v},data(){return{demoList:[{title:this.t("basicUsage"),list:[{title:this.t("check"),type:"basic"}]},{title:this.t("custom"),list:[{title:this.t("optionStatus"),type:"status"},{title:this.t("showCancel"),type:"cancel"},{title:this.t("showDescription"),type:"description"},{title:this.t("customPanel"),type:"title"}]}],show:!1,showCustom:!1,cancelText:"",description:"",title:"",curActions:[]}},computed:{actions(){return[{name:this.t("option1")},{name:this.t("option2")},{name:this.t("option3"),subname:this.t("subname"),openType:"share"}]}},mounted(){this.curActions=this.actions},methods:{onShowActionSheet(e){const t=[{name:this.t("coloredOption"),color:"#ee0a24"},{loading:!0},{name:this.t("disabledOption"),disabled:!0}],s=[{name:this.t("getUserInfo"),color:"#07c160",openType:"getUserInfo"}];let o="",n="",i=[],a="";switch(e){case"title":return void(this.showCustom=!0);case"basic":i=this.actions;break;case"wxOpen":i=s,a=this.t("title");break;case"status":i=t;break;case"cancel":i=this.actions,o=this.t("cancel");break;case"description":i=this.actions,n=this.t("description")}this.show=!0,this.cancelText=o,this.description=n,this.curActions=i,this.title=a},onClose(){this.show=!1,this.showCustom=!1},onSelect(e){console.log("onSelect.e",e)},onGetUserInfo(e){console.log("onGetUserInfo.e",e)}}},[["render",function(e,t,s,o,n,i){const a=w("press-cell"),d=w("demo-block"),m=w("press-action-sheet");return l(),p("div",{class:"demo-wrap"},[(l(!0),p(y,null,g(n.demoList,((e,t)=>(l(),c(d,{key:t,title:e.title},{default:r((()=>[(l(!0),p(y,null,g(e.list,(e=>(l(),c(a,{key:e.title,title:e.title,"is-link":"",onClick:t=>i.onShowActionSheet(e.type)},null,8,["title","onClick"])))),128))])),_:2},1032,["title"])))),128)),u(m,{show:n.show,actions:n.curActions,"cancel-text":n.cancelText,description:n.description,title:n.title,onClose:i.onClose,onSelect:i.onSelect,onGetuserinfo:i.onGetUserInfo,onCancel:i.onClose},null,8,["show","actions","cancel-text","description","title","onClose","onSelect","onGetuserinfo","onCancel"]),u(m,{show:n.showCustom,title:e.t("title"),onClose:i.onClose,onSelect:i.onSelect,onCancel:i.onClose},{default:r((()=>[k("div",{style:{padding:"16px"}},h(e.t("content")),1)])),_:1},8,["show","title","onClose","onSelect","onCancel"])])}]]);export{_ as default};
