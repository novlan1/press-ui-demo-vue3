import{c as t,s as e,r as s,a,d as n,b as o}from"./rect.20001315.js";import{b as i,a as r,I as l}from"./utils.52985a81.js";import{ag as c,_ as u,o as d,c as p,r as f,n as h,b as m,d as y,e as v,i as b,j as $,a as g,t as C}from"./index-dc5fce78.js";import{g as k}from"./event.c087af07.js";function S(t){return new Promise((function(e,s){wx?wx.setClipboardData({data:"".concat(t),success:function(){e()},fail:function(t){console.log(t),s()}}):s()}))}const T={rootStyle:function(t){return e([{"-webkit-transition-duration":`${t.currentDuration}ms`,"transition-duration":`${t.currentDuration}ms`},t.display?null:"display: none",t.customStyle])}},w=(t,e)=>{const{enterClass:s,enterActiveClass:a,enterToClass:n,leaveClass:o,leaveActiveClass:i,leaveToClass:r}=e;return{enter:`press-${t}-enter press-${t}-enter-active ${s} ${a}`,"enter-to":`press-${t}-enter-to press-${t}-enter-active ${n} ${a}`,leave:`press-${t}-leave press-${t}-leave-active ${o} ${i}`,"leave-to":`press-${t}-leave-to press-${t}-leave-active ${r} ${i}`}};var D;const E=u({name:"PressTransition",mixins:[(D=!0,{props:{customStyle:String,show:{type:Boolean,default:D},duration:{type:[Number,Object,null],default:300},name:{type:String,default:"fade"}},data(){return{type:"",inited:!1,display:!1,dataName:this.name}},watch:{show:{handler(...t){this.observeShow(...t)}},name:{handler(t){this.dataName=t}}},mounted(){!0===this.show&&this.observeShow(!0,!1)},methods:{observeShow(t,e){t!==e&&(t?this.enter():this.leave())},callback(t){"function"==typeof this[`${t}Callback`]&&this[`${t}Callback`]()},enter(){const{duration:t,dataName:e}=this,a=w(e,this),n=i(t)?t.enter:t;this.status="enter",this.$emit("before-enter"),this.callback("beforeEnter"),s((()=>{"enter"===this.status&&(this.$emit("enter"),this.setData({inited:!0,display:!0,classes:a.enter,currentDuration:n}),this.callback("enter"),s((()=>{"enter"===this.status&&(this.transitionEnded=!1,this.setData({classes:a["enter-to"]}))})))}))},leave(){if(!this.display)return;const{duration:t,dataName:e}=this,a=w(e,this),n=i(t)?t.leave:t;this.status="leave",this.$emit("before-leave"),this.callback("beforeLeave"),s((()=>{"leave"===this.status&&(this.$emit("leave"),this.setData({classes:a.leave,currentDuration:n}),this.callback("leave"),s((()=>{"leave"===this.status&&(this.transitionEnded=!1,setTimeout((()=>this.onTransitionEnd()),n),this.setData({classes:a["leave-to"]}))})))}))},onTransitionEnd(){if(this.transitionEnded)return;this.transitionEnded=!0,this.$emit(`after-${this.status}`),this.callback("enter"===this.status?"afterEnter":"afterLeave");const{show:t,display:e}=this;!t&&e&&this.setData({display:!1})}}})],props:{overlay:{type:Boolean,default:!1},enterClass:{type:String,default:""},enterActiveClass:{type:String,default:""},enterToClass:{type:String,default:""},leaveClass:{type:String,default:""},leaveActiveClass:{type:String,default:""},leaveToClass:{type:String,default:""},afterEnterCallback:{type:Function,default:()=>()=>{}},afterLeaveCallback:{type:Function,default:()=>()=>{}},enterCallback:{type:Function,default:()=>()=>{}},leaveCallback:{type:Function,default:()=>()=>{}},beforeEnterCallback:{type:Function,default:()=>()=>{}},beforeLeaveCallback:{type:Function,default:()=>()=>{}},...a},emits:["click","touchmove","before-enter","enter","after-enter","before-leave","leave","after-leave"],data:()=>({classes:""}),options:{...n,styleIsolation:"shared"},computed:{rootStyle(){const{currentDuration:t,display:e,customStyle:s}=this;return T.rootStyle({currentDuration:t,display:e,customStyle:s})},transitionClass(){const{customClass:t,overlay:e,classes:s}=this;return`press-transition ${s} ${t} ${e?"press-overlay":""}`}},methods:{setData(t){Object.keys(t).forEach((e=>{this[e]=t[e]}))},onClick(){this.$emit("click")},onTouchmove(t){this.$emit("touchmove",t)}}},[["render",function(t,e,s,a,n,o){return t.inited?(d(),p("div",{key:0,class:h(o.transitionClass),style:m(o.rootStyle),onTransitionend:e[0]||(e[0]=(...e)=>t.onTransitionEnd&&t.onTransitionEnd(...e)),onClick:e[1]||(e[1]=(...t)=>o.onClick&&o.onClick(...t)),onTouchmove:e[2]||(e[2]=(...t)=>o.onTouchmove&&o.onTouchmove(...t))},[f(t.$slots,"default",{},void 0,!0)],38)):y("v-if",!0)}],["__scopeId","data-v-ce3f28aa"]]),I="#fff";const O={rootStyle:function(t){return e({"z-index":t.zIndex,top:r(t.top)})},notifyStyle:function(t){return e({background:t.background,color:t.color})}};function x(t){return t.replace(/^(\w)/,((t,e)=>`data${e.toUpperCase()}`))}function j(t){Object.keys(t).forEach((e=>{this[x(e)]=t[e]}))}const N={show:{type:Boolean,default:!1},message:{type:String,default:""},background:{type:String,default:""},type:{type:String,default:"danger"},color:{type:String,default:I},zIndex:{type:Number,default:110},safeAreaInsetTop:{type:Boolean,default:!1},top:{type:[null,String,Number],default:null},...a},B={name:"PressNotify",options:{...n,styleIsolation:"shared"},components:{PressTransition:E},mixins:[(_=N,{data(){return{...(t=this,e=_,Object.keys(e).reduce(((e,s)=>(e[x(s)]=t[s],e)),{}))};var t,e},watch:{...(A=_,Object.keys(A).reduce(((t,e)=>(t[e]={handler(t){this[x(e)]=t}},t)),{}))},methods:{setData(t){j.call(this,t)}}})],props:N,emits:[],data:()=>({onOpened:null,onClose:null,onClick:null,computed:O}),watch:{},created(){const t=o();this.statusBarHeight=t},methods:{onTap(t){const{onClick:e}=this;e&&e(k(t))}}};var _,A;let F;F=function({defaultOptions:t,component:e}){var s;let a={},n=[],o=!1,r={...t};const u=(null==(s=t.selector)?void 0:s.slice(1))||"component-default-id";function d({multiple:t,component:e,dialogId:s}){var a;if(l)return{};if(n=n.filter((t=>{return!t.$el.parentNode||(e=t.$el,document.body.contains(e));var e})),!n.length||t){const t=document.getElementById(s);(null==t?void 0:t.parentElement)&&t.parentElement.removeChild(t);const o=document.createElement("div");o.id=s,document.body.appendChild(o);const i=function(t,e,s={}){let a;return a=c(e,{...s}).mount(t),a}(o,e);null==(a=null==i?void 0:i.$on)||a.call(i,"input",(t=>{i.value=t})),n.push(i)}return n[n.length-1]}function p(t={duration:0}){const s=d({multiple:o,component:e,dialogId:u});return t=function(t,e="message"){return i(t)?t:{[e]:t}}(t),t={...r,...a[t.type||r.type],...t},p.getOptions=()=>t,s.clear=()=>{s.setData({show:!1}),t.onClose&&t.onClose(),n=n.filter((t=>t!==s)),setTimeout((()=>{document.body.contains(s.$el)&&s.$el&&s.$el.parentNode.removeChild(s.$el)}),t.animationDuration||0)},s.set=(...t)=>{"function"==typeof s.$set?s.$set(s,...t):s[t[0]]=t[1]},s.setData(t),clearTimeout(s.timer),s.setData({show:!0}),t.duration>0&&(s.timer=setTimeout((()=>{s.clear()}),t.duration)),s}return p.clear=t=>{n.length&&(t?(n.forEach((t=>{t.clear()})),n=[]):o?n.shift().clear():n[0].clear())},p.setDefaultOptions=(t,e)=>{"string"==typeof t?a[t]=e:Object.assign(r,t)},p.resetDefaultOptions=e=>{"string"==typeof e?a[e]=null:(r={...t},a={})},p.allowMultiple=(t=!0)=>{o=t},p.install=()=>{},p}({defaultOptions:{selector:"#press-notify",type:"danger",message:"",background:"",duration:3e3,show:!0,zIndex:110,top:0,color:I,safeAreaInsetTop:!1,onClick:()=>{},onOpened:()=>{},onClose:()=>{},animationDuration:300},component:u(B,[["render",function(t,e,s,a,n,o){const i=v("PressTransition");return d(),p("div",{class:"press-notify-index"},[b(i,{name:"slide-down",show:t.dataShow,"custom-class":"press-notify__container","custom-style":n.computed.rootStyle({zIndex:t.dataZIndex,top:t.dataTop}),onClick:o.onTap},{default:$((()=>[g("div",{class:h("press-notify press-notify--"+t.dataType),style:m(n.computed.notifyStyle({background:t.dataBackground,color:t.dataColor}))},[t.dataSafeAreaInsetTop?(d(),p("div",{key:0,style:m("height: "+t.statusBarHeight+"px")},null,4)):y("v-if",!0),g("span",null,C(t.dataMessage),1)],6)])),_:1},8,["show","custom-style","onClick"])])}],["__scopeId","data-v-ee897809"]])});const z=F;F.clear,F.setDefaultOptions,F.resetDefaultOptions;const P={data(){let t=0;return t=44,{offsetTop:44}},methods:{copyIconTag(e){const s=this;(function(e){let s=S;return s=t,s(`${e}`)})(e).then((()=>{z({type:"success",duration:1500,message:`${s.t("copied")}ï¼š${e}`,top:s.offsetTop})}))}}};export{P as C};
