var t=Object.defineProperty,e=(e,r,a)=>(((e,r,a)=>{r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a})(e,"symbol"!=typeof r?r+"":r,a),a);import{N as r,_ as a,z as s,u as i,O as n,o,c as l,f as h,a as c,w as u,b as d,t as f,F as g,k as p,n as b,q as m,i as v,j as y,r as _,d as S,h as k}from"./index-d9d977eb.js";const M=/cmyk\((\d+%?),(\d+%?),(\d+%?),(\d+%?)\)/,C=t=>Math.max(0,Math.min(255,parseInt(t,10))),x=t=>{if(/cmyk/i.test(t)){const e=t.replace(/\s/g,"").match(M),r=C(e[1]),a=C(e[2]),s=C(e[3]),i=C(e[4]),{r:n,g:o,b:l}=((t,e,r,a)=>{let s=t/100,i=e/100,n=r/100;const o=a/100;s=s*(1-o)+o,i=i*(1-o)+o,n=n*(1-o)+o;let l=1-s,h=1-i,c=1-n;return l=Math.round(255*l),h=Math.round(255*h),c=Math.round(255*c),{r:l,g:h,b:c}})(r,a,s,i);return`rgb(${n}, ${o}, ${l})`}return t};function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var A=/^\s+/,H=/\s+$/;function $(t,e){if(e=e||{},(t=t||"")instanceof $)return t;if(!(this instanceof $))return new $(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,a=null,s=null,i=null,n=!1,o=!1;"string"==typeof t&&(t=function(t){t=t.replace(A,"").replace(H,"").toLowerCase();var e,r=!1;if(U[t])t=U[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=it.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=it.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=it.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=it.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=it.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=it.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=it.hex8.exec(t))return{r:Q(e[1]),g:Q(e[2]),b:Q(e[3]),a:et(e[4]),format:r?"name":"hex8"};if(e=it.hex6.exec(t))return{r:Q(e[1]),g:Q(e[2]),b:Q(e[3]),format:r?"name":"hex"};if(e=it.hex4.exec(t))return{r:Q(e[1]+""+e[1]),g:Q(e[2]+""+e[2]),b:Q(e[3]+""+e[3]),a:et(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=it.hex3.exec(t))return{r:Q(e[1]+""+e[1]),g:Q(e[2]+""+e[2]),b:Q(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==w(t)&&(nt(t.r)&&nt(t.g)&&nt(t.b)?(l=t.r,h=t.g,c=t.b,e={r:255*Y(l,255),g:255*Y(h,255),b:255*Y(c,255)},n=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):nt(t.h)&&nt(t.s)&&nt(t.v)?(a=Z(t.s),s=Z(t.v),e=function(t,e,r){t=6*Y(t,360),e=Y(e,100),r=Y(r,100);var a=Math.floor(t),s=t-a,i=r*(1-e),n=r*(1-s*e),o=r*(1-(1-s)*e),l=a%6,h=[r,n,i,i,o,r][l],c=[o,r,r,n,i,i][l],u=[i,i,o,r,r,n][l];return{r:255*h,g:255*c,b:255*u}}(t.h,a,s),n=!0,o="hsv"):nt(t.h)&&nt(t.s)&&nt(t.l)&&(a=Z(t.s),i=Z(t.l),e=function(t,e,r){var a,s,i;function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(t=Y(t,360),e=Y(e,100),r=Y(r,100),0===e)a=s=i=r;else{var o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;a=n(l,o,t+1/3),s=n(l,o,t),i=n(l,o,t-1/3)}return{r:255*a,g:255*s,b:255*i}}(t.h,a,i),n=!0,o="hsl"),t.hasOwnProperty("a")&&(r=t.a));var l,h,c;return r=X(r),{ok:n,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function R(t,e,r){t=Y(t,255),e=Y(e,255),r=Y(r,255);var a,s,i=Math.max(t,e,r),n=Math.min(t,e,r),o=(i+n)/2;if(i==n)a=s=0;else{var l=i-n;switch(s=o>.5?l/(2-i-n):l/(i+n),i){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return{h:a,s:s,l:o}}function T(t,e,r){t=Y(t,255),e=Y(e,255),r=Y(r,255);var a,s,i=Math.max(t,e,r),n=Math.min(t,e,r),o=i,l=i-n;if(s=0===i?0:l/i,i==n)a=0;else{switch(i){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4}a/=6}return{h:a,s:s,v:o}}function F(t,e,r,a){var s=[W(Math.round(t).toString(16)),W(Math.round(e).toString(16)),W(Math.round(r).toString(16))];return a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function P(t,e,r,a){return[W(tt(a)),W(Math.round(t).toString(16)),W(Math.round(e).toString(16)),W(Math.round(r).toString(16))].join("")}function I(t,e){e=0===e?0:e||10;var r=$(t).toHsl();return r.s-=e/100,r.s=J(r.s),$(r)}function G(t,e){e=0===e?0:e||10;var r=$(t).toHsl();return r.s+=e/100,r.s=J(r.s),$(r)}function B(t){return $(t).desaturate(100)}function D(t,e){e=0===e?0:e||10;var r=$(t).toHsl();return r.l+=e/100,r.l=J(r.l),$(r)}function L(t,e){e=0===e?0:e||10;var r=$(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-e/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-e/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-e/100*255))),$(r)}function E(t,e){e=0===e?0:e||10;var r=$(t).toHsl();return r.l-=e/100,r.l=J(r.l),$(r)}function V(t,e){var r=$(t).toHsl(),a=(r.h+e)%360;return r.h=a<0?360+a:a,$(r)}function j(t){var e=$(t).toHsl();return e.h=(e.h+180)%360,$(e)}function O(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=$(t).toHsl(),a=[$(t)],s=360/e,i=1;i<e;i++)a.push($({h:(r.h+i*s)%360,s:r.s,l:r.l}));return a}function q(t){var e=$(t).toHsl(),r=e.h;return[$(t),$({h:(r+72)%360,s:e.s,l:e.l}),$({h:(r+216)%360,s:e.s,l:e.l})]}function N(t,e,r){e=e||6,r=r||30;var a=$(t).toHsl(),s=360/r,i=[$(t)];for(a.h=(a.h-(s*e>>1)+720)%360;--e;)a.h=(a.h+s)%360,i.push($(a));return i}function z(t,e){e=e||6;for(var r=$(t).toHsv(),a=r.h,s=r.s,i=r.v,n=[],o=1/e;e--;)n.push($({h:a,s:s,v:i})),i=(i+o)%1;return n}$.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,a=this.toRgb();return t=a.r/255,e=a.g/255,r=a.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=X(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=T(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=T(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),a=Math.round(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+a+"%)":"hsva("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=R(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=R(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),a=Math.round(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+a+"%)":"hsla("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return F(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,a,s){var i=[W(Math.round(t).toString(16)),W(Math.round(e).toString(16)),W(Math.round(r).toString(16)),W(tt(a))];if(s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Y(this._r,255))+"%",g:Math.round(100*Y(this._g,255))+"%",b:Math.round(100*Y(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Y(this._r,255))+"%, "+Math.round(100*Y(this._g,255))+"%, "+Math.round(100*Y(this._b,255))+"%)":"rgba("+Math.round(100*Y(this._r,255))+"%, "+Math.round(100*Y(this._g,255))+"%, "+Math.round(100*Y(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[F(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+P(this._r,this._g,this._b,this._a),r=e,a=this._gradientType?"GradientType = 1, ":"";if(t){var s=$(t);r="#"+P(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0;return e||!a||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return $(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(D,arguments)},brighten:function(){return this._applyModification(L,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(I,arguments)},saturate:function(){return this._applyModification(G,arguments)},greyscale:function(){return this._applyModification(B,arguments)},spin:function(){return this._applyModification(V,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(N,arguments)},complement:function(){return this._applyCombination(j,arguments)},monochromatic:function(){return this._applyCombination(z,arguments)},splitcomplement:function(){return this._applyCombination(q,arguments)},triad:function(){return this._applyCombination(O,[3])},tetrad:function(){return this._applyCombination(O,[4])}},$.fromRatio=function(t,e){if("object"==w(t)){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]="a"===a?t[a]:Z(t[a]));t=r}return $(t,e)},$.equals=function(t,e){return!(!t||!e)&&$(t).toRgbString()==$(e).toRgbString()},$.random=function(){return $.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},$.mix=function(t,e,r){r=0===r?0:r||50;var a=$(t).toRgb(),s=$(e).toRgb(),i=r/100;return $({r:(s.r-a.r)*i+a.r,g:(s.g-a.g)*i+a.g,b:(s.b-a.b)*i+a.b,a:(s.a-a.a)*i+a.a})},$.readability=function(t,e){var r=$(t),a=$(e);return(Math.max(r.getLuminance(),a.getLuminance())+.05)/(Math.min(r.getLuminance(),a.getLuminance())+.05)},$.isReadable=function(t,e,r){var a,s,i=$.readability(t,e);switch(s=!1,(a=function(t){var e,r;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==r&&"large"!==r&&(r="small");return{level:e,size:r}}(r)).level+a.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7}return s},$.mostReadable=function(t,e,r){var a,s,i,n,o=null,l=0;s=(r=r||{}).includeFallbackColors,i=r.level,n=r.size;for(var h=0;h<e.length;h++)(a=$.readability(t,e[h]))>l&&(l=a,o=$(e[h]));return $.isReadable(t,o,{level:i,size:n})||!s?o:(r.includeFallbackColors=!1,$.mostReadable(t,["#fff","#000"],r))};var U=$.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=$.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(U);function X(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Y(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function J(t){return Math.min(1,Math.max(0,t))}function Q(t){return parseInt(t,16)}function W(t){return 1==t.length?"0"+t:""+t}function Z(t){return t<=1&&(t=100*t+"%"),t}function tt(t){return Math.round(255*parseFloat(t)).toString(16)}function et(t){return Q(t)/255}var rt,at,st,it=(at="[\\s|\\(]+("+(rt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+rt+")[,|\\s]+("+rt+")\\s*\\)?",st="[\\s|\\(]+("+rt+")[,|\\s]+("+rt+")[,|\\s]+("+rt+")[,|\\s]+("+rt+")\\s*\\)?",{CSS_UNIT:new RegExp(rt),rgb:new RegExp("rgb"+at),rgba:new RegExp("rgba"+st),hsl:new RegExp("hsl"+at),hsla:new RegExp("hsla"+st),hsv:new RegExp("hsv"+at),hsva:new RegExp("hsva"+st),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function nt(t){return!!it.CSS_UNIT.exec(t)}const ot=(t,e)=>{let r="";for(let a=0;a<t.length;a++)"string"==typeof t[a]?r+=t[a]:r+=t[a].source;return new RegExp(r,e)},lt=(()=>{const t=/\s*,\s*/,e=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,r=ot(["(?:",/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,"|",/[_a-z-][_a-z0-9-]*/,")"],""),a=ot([r,"(?:\\s+",e,"(?:\\s+",e,")?)?"],""),s=ot(["(?:",a,t,")*",a],""),i=ot(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,")"],"");return{gradientSearch:ot(["(?:(",i,")",t,")?(",s,")"],"gi"),colorStopSearch:ot(["\\s*(",r,")","(?:\\s+","(",e,"))?","(?:",t,"\\s*)?"],"gi")}})(),ht=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/gim,ct=t=>(ht.lastIndex=0,ht.exec(t)),ut={top:0,right:90,bottom:180,left:270,"top left":225,"left top":225,"top right":135,"right top":135,"bottom left":315,"left bottom":315,"bottom right":45,"right bottom":45},dt=t=>{const e=ct(t);if(!e)return!1;const r={points:[],degree:0},a=((t,e)=>{let r,a,s;t.gradientSearch.lastIndex=0;const i=t.gradientSearch.exec(e);if(i)for(r={original:i[0],colorStopList:[]},i[1]&&(r.line=i[1]),i[2]&&(r.angle=i[2]),i[3]&&(r.sideCorner=i[3]),t.colorStopSearch.lastIndex=0,a=t.colorStopSearch.exec(i[4]);a;)s={color:a[1]},a[2]&&(s.position=a[2]),r.colorStopList.push(s),a=t.colorStopSearch.exec(i[4]);return r})(lt,e[1]);if(a.original.trim()!==e[1].trim())return!1;const s=a.colorStopList.map((({color:t,position:e})=>{const r=Object.create(null);return r.color=$(t).toRgbString(),r.left=parseFloat(e),r}));r.points=s;let i=parseInt(a.angle,10);return Number.isNaN(i)&&(i=ut[a.sideCorner]||90),r.degree=i,r},ft=Math.round,gt=t=>$(t).toRgb(),pt=t=>{const{points:e,degree:r}=t;return`linear-gradient(${r}deg,${e.sort(((t,e)=>t.left-e.left)).map((t=>`${t.color} ${Math.round(100*t.left)/100}%`)).join(",")})`},bt=class{constructor(t){e(this,"states",{s:100,v:100,h:100,a:1}),e(this,"originColor"),e(this,"isGradient"),e(this,"gradientStates",{colors:[],degree:0,selectedId:null,css:""}),this.update(t)}update(t){var e,r;if(t===this.originColor)return;const a=dt(t);if(this.isGradient&&!a){const e=$(t).toHsv();return this.states=e,void this.updateCurrentGradientColor()}this.originColor=t,this.isGradient=!1;let s=t;if(a){this.isGradient=!0;const t=a,i=t.points.map((t=>{return e=t.left,r=t.color,{id:(1+4294967295*Math.random()).toString(16),left:e,color:r};var e,r}));this.gradientStates={colors:i,degree:t.degree,selectedId:(null==(e=i[0])?void 0:e.id)||null},this.gradientStates.css=this.linearGradient,s=null==(r=this.gradientSelectedPoint)?void 0:r.color}this.updateStates(s)}get saturation(){return this.states.s}set saturation(t){this.states.s=Math.max(0,Math.min(100,t)),this.updateCurrentGradientColor()}get value(){return this.states.v}set value(t){this.states.v=Math.max(0,Math.min(100,t)),this.updateCurrentGradientColor()}get hue(){return this.states.h}set hue(t){this.states.h=Math.max(0,Math.min(360,t)),this.updateCurrentGradientColor()}get alpha(){return this.states.a}set alpha(t){this.states.a=Math.max(0,Math.min(1,Math.round(100*t)/100)),this.updateCurrentGradientColor()}get rgb(){const{r:t,g:e,b:r}=gt(this.states);return`rgb(${ft(t)}, ${ft(e)}, ${ft(r)})`}get rgba(){const{r:t,g:e,b:r,a:a}=gt(this.states);return`rgba(${ft(t)}, ${ft(e)}, ${ft(r)}, ${a})`}get hsv(){const{h:t,s:e,v:r}=this.getHsva();return`hsv(${t}, ${e}%, ${r}%)`}get hsva(){const{h:t,s:e,v:r,a:a}=this.getHsva();return`hsva(${t}, ${e}%, ${r}%, ${a})`}get hsl(){const{h:t,s:e,l:r}=this.getHsla();return`hsl(${t}, ${e}%, ${r}%)`}get hsla(){const{h:t,s:e,l:r,a:a}=this.getHsla();return`hsla(${t}, ${e}%, ${r}%, ${a})`}get hex(){return $(this.states).toHexString()}get hex8(){return $(this.states).toHex8String()}get cmyk(){const{c:t,m:e,y:r,k:a}=this.getCmyk();return`cmyk(${t}, ${e}, ${r}, ${a})`}get css(){return this.isGradient?this.linearGradient:this.rgba}get linearGradient(){const{gradientColors:t,gradientDegree:e}=this;return pt({points:t,degree:e})}get gradientColors(){return this.gradientStates.colors}set gradientColors(t){this.gradientStates.colors=t,this.gradientStates.css=this.linearGradient}get gradientSelectedId(){return this.gradientStates.selectedId}set gradientSelectedId(t){var e;t!==this.gradientSelectedId&&(this.gradientStates.selectedId=t,this.updateStates(null==(e=this.gradientSelectedPoint)?void 0:e.color))}get gradientDegree(){return this.gradientStates.degree}set gradientDegree(t){this.gradientStates.degree=Math.max(0,Math.min(360,t)),this.gradientStates.css=this.linearGradient}get gradientSelectedPoint(){const{gradientColors:t,gradientSelectedId:e}=this;return t.find((t=>t.id===e))}getFormatsColorMap(){return{HEX:this.hex,CMYK:this.cmyk,RGB:this.rgb,RGBA:this.rgba,HSL:this.hsl,HSLA:this.hsla,HSV:this.hsv,HSVA:this.hsva,CSS:this.css,HEX8:this.hex8}}updateCurrentGradientColor(){const{isGradient:t,gradientColors:e,gradientSelectedId:r}=this,{length:a}=e,s=this.gradientSelectedPoint;if(!t||0===a||!s)return!1;const i=e.findIndex((t=>t.id===r)),n={...s,color:this.rgba};return e.splice(i,1,n),this.gradientColors=e.slice(),this}updateStates(t){const e=$(x(t)).toHsv();this.states=e}getRgba(){const{r:t,g:e,b:r,a:a}=gt(this.states);return{r:ft(t),g:ft(e),b:ft(r),a:a}}getCmyk(){const{r:t,g:e,b:r}=this.getRgba(),[a,s,i,n]=((t,e,r)=>{let a=0,s=0,i=0,n=0;const o=parseInt(`${t}`.replace(/\s/g,""),10),l=parseInt(`${e}`.replace(/\s/g,""),10),h=parseInt(`${r}`.replace(/\s/g,""),10);if(0===o&&0===l&&0===h)return n=1,[0,0,0,1];a=1-o/255,s=1-l/255,i=1-h/255;const c=Math.min(a,Math.min(s,i));return a=(a-c)/(1-c),s=(s-c)/(1-c),i=(i-c)/(1-c),n=c,[a,s,i,n]})(t,e,r);return{c:ft(100*a),m:ft(100*s),y:ft(100*i),k:ft(100*n)}}getHsva(){let{h:t,s:e,v:r,a:a}=$(this.states).toHsv();return t=ft(t),e=ft(100*e),r=ft(100*r),a*=1,{h:t,s:e,v:r,a:a}}getHsla(){let{h:t,s:e,l:r,a:a}=$(this.states).toHsl();return t=ft(t),e=ft(100*e),r=ft(100*r),a*=1,{h:t,s:e,l:r,a:a}}equals(t){return $.equals(this.rgba,t)}static isValid(t){return!!dt(t)||$(t).isValid()}static hsva2color(t,e,r,a){return $({h:t,s:e,v:r,a:a}).toHsvString()}static hsla2color(t,e,r,a){return $({h:t,s:e,l:r,a:a}).toHslString()}static rgba2color(t,e,r,a){return $({r:t,g:e,b:r,a:a}).toHsvString()}static hex2color(t,e){const r=$(t);return r.setAlpha(e),r.toHexString()}static object2color(t,e){if("CMYK"===e){const{c:e,m:r,y:a,k:s}=t;return`cmyk(${e}, ${r}, ${a}, ${s})`}return $(t,{format:e}).toRgbString()}};let mt=bt;e(mt,"isGradientColor",(t=>!!ct(t))),e(mt,"compare",((t,e)=>{const r=bt.isGradientColor(t),a=bt.isGradientColor(e);if(r&&a){return pt(dt(t))===pt(dt(e))}return!r&&!a&&$.equals(t,e)}));const vt=["alpha","css","hex","hex8","hsl","hsla","hsv","hsva","rgb","rgba","saturation","value","isGradient"],yt=t=>{if(!t)return null;const e=Object.create(null);return vt.forEach((r=>e[r]=t[r])),t.isGradient&&(e.linearGradient=t.linearGradient),e},_t="#001F97",St=["#F2F3FF","#D9E1FF","#B5C7FF","#8EABFF","#618DFF","#366EF4","#0052D9","#003CAB","#002A7C","#001A57"],kt=(t,e,a)=>{const{pageX:s,pageY:i}=t.changedTouches[0]||{};let{offsetLeft:n=0,offsetTop:o=0}=t.currentTarget||t.target||{};return void 0!==e&&(o=e),void 0!==a&&(n=a),{x:s-n,y:r(i)-o}},Mt=(t,e)=>{const r={HSV:Object.values(e.getHsva()),HSVA:Object.values(e.getHsva()),HSL:Object.values(e.getHsla()),HSLA:Object.values(e.getHsla()),HSB:Object.values(e.getHsla()),RGB:Object.values(e.getRgba()),RGBA:Object.values(e.getRgba()),CMYK:[...Object.values(e.getCmyk()),0],CSS:[e.css,0],HEX:[e.hex,0]},a=r[t];return a?[...a.slice(0,a.length-1),100*e.alpha+"%"]:r.RGB},Ct=t=>void 0===t?St:t&&t.length?t:[],xt={enableAlpha:{type:Boolean,default:!1},format:{type:String,default:"RGB"},swatchColors:{type:Array,default:()=>St},type:{type:String,default:"base"},value:{type:String,default:null},defaultValue:{type:String,default:""},showPreview:{type:Boolean,default:!1}},wt="press-color-picker";const At=a({i18n:{"zh-CN":{multiple:"带色板",format:"自定义格式",mode:"组件模式选择",preview:"显示预览"},"en-US":{multiple:"Multiple",format:"Format",mode:"Mode",preview:"Preview"}},components:{PressColorPicker:a({name:"PressColorPicker",props:xt,data(){const t=this.defaultValue||this.value,e=new mt(xt.defaultValue.value||xt.value.value||_t);return{panelRect:{width:343,height:144},sliderRect:{width:303},saturationInfo:{saturation:0,value:0},saturationThumbStyle:{left:0,top:0},sliderInfo:{value:0},hueSliderStyle:{left:0},alphaSliderStyle:{left:0},innerValue:t,previewColor:t,formatList:Mt(this.format,e),innerSwatchList:Ct(this.swatchColors),isMultiple:"multiple"===this.type,utils:s,color:e,styleUtil:i}},computed:{sliderPaddingStyle(){const{alphaSliderStyle:t}=this;return i({background:`linear-gradient(90deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.0) 93%, ${t.color} 93%, ${t.color} 100%)`})}},watch:{innerValue(t){t!==this.formatValue()&&this.updateColor()},format(){this.setCoreStyle()},swatchColors(t){this.setData({innerSwatchList:Ct(t)})},type(t){this.setData({isMultiple:"multiple"===t})}},mounted(){this.init()},methods:{setData(t,e){Object.keys(t).forEach((e=>{this[e]=t[e]})),"function"==typeof e&&setTimeout((()=>{e()}))},init(){this.updateColor(),this.getRectInfo().then((()=>{this.setCoreStyle()}))},getRectInfo(){return new Promise(((t,e)=>{Promise.all([n(this,`.${wt}__saturation`),n(this,`.${wt}__slider`)]).then((([e,r])=>{this.setData({panelRect:{width:e.width||343,height:e.height||144,top:e.top,left:e.left},sliderRect:{width:r.width||303,top:r.top,left:r.left}},(()=>{t()}))})).catch((t=>{e(t)}))}))},clickSwatch(t){this.color.update(t),this.emitColorChange("preset"),this.setCoreStyle()},setCoreStyle(){this.setData({sliderInfo:{value:this.color.hue},hueSliderStyle:this.getSliderThumbStyle({value:this.color.hue,maxValue:360}),alphaSliderStyle:this.getSliderThumbStyle({value:100*this.color.alpha,maxValue:100}),saturationInfo:{saturation:this.color.saturation,value:this.color.value},saturationThumbStyle:this.getSaturationThumbStyle({saturation:this.color.saturation,value:this.color.value}),previewColor:this.color.rgba,formatList:Mt(this.format,this.color)})},emitColorChange(t){this.setData({innerValue:this.formatValue()}),this.$emit("change",{value:this.formatValue(),context:{trigger:t,color:yt(this.color)}})},defaultEmptyColor:()=>_t,updateColor(){const t=this.innerValue||this.defaultEmptyColor();this.color.update(t)},getSaturationAndValueByCoordinate(t){const{width:e,height:r}=this.panelRect,{x:a,y:s}=t;let i=a/e,n=1-s/r;return i=Math.min(1,Math.max(0,i)),n=Math.min(1,Math.max(0,n)),{saturation:i,value:n}},getSaturationThumbStyle({saturation:t,value:e}){const{width:r,height:a}=this.panelRect,s=Math.round((1-e)*a),i=Math.round(t*r);return{color:this.color.rgb,left:`${i}px`,top:`${s}px`}},getSliderThumbStyle({value:t,maxValue:e}){const{width:r}=this.sliderRect;if(!r)return;return{left:`${Math.round(t/e*100)}%`,color:this.color.rgb}},onChangeSaturation({saturation:t,value:e}){const{saturation:r,value:a}=this.color;let s="palette-saturation-brightness";if(e!==a&&t!==r)this.color.saturation=t,this.color.value=e,s="palette-saturation-brightness";else if(t!==r)this.color.saturation=t,s="palette-saturation";else{if(e===a)return;this.color.value=e,s="palette-brightness"}this.$emit("palette-bar-change",{color:yt(this.color)}),this.emitColorChange(s),this.setCoreStyle()},formatValue(){return this.color.getFormatsColorMap()[this.format]||this.color.css},onChangeSlider({value:t,isAlpha:e}){e?this.color.alpha=t/100:this.color.hue=t,this.emitColorChange(e?"palette-alpha-bar":"palette-hue-bar"),this.setCoreStyle()},handleSaturationDrag(t){const e=kt(t,this.panelRect.top,this.panelRect.left),{saturation:r,value:a}=this.getSaturationAndValueByCoordinate(e);this.onChangeSaturation({saturation:r,value:a})},handleSliderDrag(t,e=!1){const r=kt(t,this.sliderRect.top,this.sliderRect.left),{width:a}=this.sliderRect,{x:s}=r,i=e?100:360;let n=Math.round(s/a*i*100)/100;n<0&&(n=0),n>i&&(n=i),this.onChangeSlider({value:n,isAlpha:e})},handleDiffDrag(t){var e,r;switch(t.target.dataset.type||(null==(r=null==(e=t.currentTarget)?void 0:e.dataset)?void 0:r.type)){case"saturation":this.handleSaturationDrag(t);break;case"hue-slider":this.handleSliderDrag(t);break;case"alpha-slider":this.handleSliderDrag(t,!0)}},onTouchStart(t){this.getRectInfo().then((()=>{this.handleDiffDrag(t)}))},onTouchMove(t){this.handleDiffDrag(t)},onTouchEnd(t){setTimeout((()=>{this.handleDiffDrag(t)}))},getUniqueKey:(t,e)=>`${t}-${e}`}},[["render",function(t,e,r,a,s,i){return o(),l("div",{class:"press-color-picker__panel"},[h("div",{class:b(["press-color-picker__body",`press-color-picker__body--${t.type}`])},[s.isMultiple?(o(),l("div",{key:0,class:"press-color-picker__saturation","data-type":"saturation",style:c({background:`hsl(${s.sliderInfo.value}, 100%, 50%)`}),onTouchstart:e[0]||(e[0]=u(((...t)=>i.onTouchStart&&i.onTouchStart(...t)),["stop","prevent"])),onTouchmove:e[1]||(e[1]=u(((...t)=>i.onTouchMove&&i.onTouchMove(...t)),["stop","prevent"])),onTouchend:e[2]||(e[2]=u(((...t)=>i.onTouchEnd&&i.onTouchEnd(...t)),["stop","prevent"]))},[h("div",{class:"press-color-picker__thumb",style:c(s.styleUtil(s.saturationThumbStyle))},null,4)],36)):d("v-if",!0),s.isMultiple?(o(),l("div",{key:1,class:"press-color-picker__sliders-wrapper"},[h("div",{class:"press-color-picker__sliders"},[h("div",{class:"press-color-picker__slider-wrapper press-color-picker__slider-wrapper--hue-type"},[h("div",{class:"press-color-picker__slider","data-type":"hue-slider",onTouchstart:e[3]||(e[3]=u(((...t)=>i.onTouchStart&&i.onTouchStart(...t)),["stop","prevent"])),onTouchmove:e[4]||(e[4]=u(((...t)=>i.onTouchMove&&i.onTouchMove(...t)),["stop","prevent"])),onTouchend:e[5]||(e[5]=u(((...t)=>i.onTouchEnd&&i.onTouchEnd(...t)),["stop","prevent"]))},[h("div",{class:"press-color-picker__rail"}),h("div",{class:"press-color-picker__thumb",style:c(s.styleUtil(s.hueSliderStyle))},null,4)],32)]),t.enableAlpha?(o(),l("div",{key:0,class:"press-color-picker__slider-wrapper press-color-picker__slider-wrapper--alpha-type"},[h("div",{class:"press-color-picker__slider-padding",style:c(i.sliderPaddingStyle)},null,4),h("div",{class:"press-color-picker__slider","data-type":"alpha-slider",onTouchstart:e[6]||(e[6]=u(((...t)=>i.onTouchStart&&i.onTouchStart(...t)),["stop","prevent"])),onTouchmove:e[7]||(e[7]=u(((...t)=>i.onTouchMove&&i.onTouchMove(...t)),["stop","prevent"])),onTouchend:e[8]||(e[8]=u(((...t)=>i.onTouchEnd&&i.onTouchEnd(...t)),["stop","prevent"]))},[h("div",{class:"press-color-picker__rail",style:c({background:`linear-gradient(to right, rgba(0, 0, 0, 0), ${s.alphaSliderStyle.color})`})},null,4),h("div",{class:"press-color-picker__thumb",style:c(s.styleUtil(s.alphaSliderStyle))},null,4)],32)])):d("v-if",!0)]),t.showPreview?(o(),l("div",{key:0,class:"press-color-picker__sliders-preview press-color-picker--bg-alpha"},[h("div",{class:"press-color-picker__sliders-preview-inner",style:c({background:s.previewColor})},null,4)])):d("v-if",!0)])):d("v-if",!0),s.isMultiple?(o(),l("div",{key:2,class:"press-color-picker__format"},[h("div",{class:"press-color-picker__format-item press-color-picker__format-item--first"},f(t.format),1),h("div",{class:"press-color-picker__format-item press-color-picker__format-item--second"},[h("div",{class:"press-color-picker__format-inputs"},[(o(!0),l(g,null,p(s.formatList,((t,e)=>(o(),l("div",{key:i.getUniqueKey(t,e),class:b([s.utils.bem2("color-picker__format-input",[e===s.formatList.length-1&&2===s.formatList.length?"fixed":"base"])])},f(t),3)))),128))])])])):d("v-if",!0),s.innerSwatchList.length?(o(),l("div",{key:3,class:"press-color-picker__swatches-wrap"},[h("div",{class:"press-color-picker__swatches"},[s.isMultiple?(o(),l("div",{key:0,class:"press-color-picker__swatches-title"}," 系统预设色彩 ")):d("v-if",!0),h("div",{class:"press-color-picker__swatches-items"},[(o(!0),l(g,null,p(s.innerSwatchList,(t=>(o(),l("div",{key:t,class:"press-color-picker__swatches-item","data-value":"swatch",onClick:u((()=>i.clickSwatch(t)),["stop"])},[h("div",{class:"press-color-picker__swatches-inner",style:c({backgroundColor:t})},null,4)],8,["onClick"])))),128))])])])):d("v-if",!0)],2)])}],["__scopeId","data-v-0221f28d"]]),PressIconPlus:m},data:()=>({sectionStyle:"margin: 0;background: #f7f8fa;",headerStyle:"background: #f7f8fa;",curFormat:"CSS",lineList:[["CSS","HEX","RGB"],["HSL","HSV","CMYK"]]}),methods:{onChange(t){console.log(">>> change.value ",t)},onPaletteBarChange(t){console.log(">>> paletteBarChange.value ",t)},clickFormat(t){this.curFormat=t}}},[["render",function(t,e,r,a,s,i){const n=_("PressColorPicker"),h=_("demo-block"),c=_("PressIconPlus");return o(),l("div",{class:"demo-wrap"},[v(h,{title:t.t("basicUsage"),"header-style":s.headerStyle,"section-style":s.sectionStyle},{default:y((()=>[v(n,{onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"]),v(h,{title:t.t("multiple"),"header-style":s.headerStyle,"section-style":s.sectionStyle},{default:y((()=>[v(n,{type:"multiple",onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"]),v(h,{title:t.t("format"),description:"abc","header-style":s.headerStyle,"section-style":s.sectionStyle},{default:y((()=>[(o(!0),l(g,null,p(s.lineList,((t,e)=>(o(),l("div",{key:e,class:"format-line"},[(o(!0),l(g,null,p(t,(t=>(o(),l("div",{key:t,class:b(["format-item",s.curFormat===t?"active":""]),onClick:u((e=>i.clickFormat(t)),["stop"])},[s.curFormat===t?(o(),S(c,{key:0,name:"success",size:"12","custom-style":"position: absolute;left: 2.5px;top: 2.1px;z-index: 1;color: #fff"})):d("v-if",!0),k(" "+f(t),1)],10,["onClick"])))),128))])))),128)),v(n,{type:"multiple","enable-alpha":"",format:s.curFormat,onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["format","onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"]),v(h,{title:t.t("preview"),"header-style":s.headerStyle,"section-style":s.sectionStyle},{default:y((()=>[v(n,{type:"multiple","show-preview":"","enable-alpha":"",value:"#70de2f",onChange:i.onChange,onPaletteBarChange:i.onPaletteBarChange},null,8,["onChange","onPaletteBarChange"])])),_:1},8,["title","header-style","section-style"])])}],["__scopeId","data-v-51c0a6df"]]);export{At as default};
