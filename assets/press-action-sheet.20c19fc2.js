import{_ as e,o as s,h as o,w as t,c as n,k as a,t as i,d as l,l as r,F as c,g as p,p as d,n as m,m as u,e as h,j as g,u as f}from"./index-38a6aa88.js";import{P as y}from"./press-icon-plus.6056b7b8.js";import{P as v}from"./press-popup-plus.a101378e.js";import{P as k}from"./press-loading-plus.d5f0d0fb.js";import{b as C}from"./button.ac8ab533.js";import{d as _,a as b}from"./press-component.d8ea5855.js";import{u as P}from"./utils.527a09c0.js";const x=e({name:"PressActionSheet",options:{..._,styleIsolation:"shared"},components:{PressIconPlus:y,PressPopup:v,PressLoading:k},mixins:[C],props:{show:{type:Boolean,default:!1},title:{type:String,default:""},cancelText:{type:String,default:""},description:{type:String,default:""},round:{type:Boolean,default:!0},zIndex:{type:Number,default:100},actions:{type:Array,default:()=>[]},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnClickAction:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},...b},emits:["select","close","cancel","click-overlay","getuserinfo"],data:()=>({}),methods:{getActionClass:e=>`${P.bem2("action-sheet__item",{disabled:e.disabled||e.loading})} ${e.className||""}`,getOpenType(e){const{canIUseGetUserProfile:s}=this;return e.disabled||e.loading||s&&"getUserInfo"===e.openType?"":e.openType},onFakeSelect(e,s){e.disabled||e.loading||this.onSelect(e,s)},onSelect(e){const{closeOnClickAction:s,canIUseGetUserProfile:o}=this;e&&(this.$emit("select",e),s&&this.onClose(),"getUserInfo"===e.openType&&o&&uni.getUserProfile({desc:e.getUserProfileDesc||"  ",complete:e=>{this.$emit("getuserinfo",e)}}))},onCancel(){this.$emit("cancel")},onClose(){this.$emit("close")},onClickOverlay(){this.$emit("click-overlay"),this.onClose()}}},[["render",function(e,y,v,k,C,_){const b=g("press-icon-plus"),P=g("press-loading"),x=f,I=g("press-popup");return s(),o(I,{show:v.show,position:"bottom",round:v.round,"z-index":v.zIndex,overlay:v.overlay,"custom-class":"press-action-sheet","safe-area-inset-bottom":v.safeAreaInsetBottom,"close-on-click-overlay":v.closeOnClickOverlay,onClose:_.onClickOverlay},{default:t((()=>[v.title?(s(),n("div",{key:0,class:"press-action-sheet__header"},[a(i(v.title)+" ",1),l(b,{name:"cross","custom-class":"press-action-sheet__close",onClick:_.onClose},null,8,["onClick"])])):r("v-if",!0),v.description?(s(),n("div",{key:1,class:"press-action-sheet__description press-hairline--bottom"},i(v.description),1)):r("v-if",!0),v.actions&&v.actions.length?(s(),n("div",{key:2},[(s(!0),n(c,null,p(v.actions,((l,p)=>(s(),o(x,{key:p,"open-type":_.getOpenType(l),style:d(l.color?"color: "+l.color:""),class:m(_.getActionClass(l)),"hover-class":"press-action-sheet__item--hover","data-index":p,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter,onClick:()=>_.onFakeSelect(l,p),onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting},{default:t((()=>[l.loading?(s(),o(P,{key:1,"custom-class":"press-action-sheet__loading",size:"22px"})):(s(),n(c,{key:0},[a(i(l.name)+" ",1),l.subname?(s(),n("div",{key:0,class:"press-action-sheet__subname"},i(l.subname),1)):r("v-if",!0)],64))])),_:2},1032,["open-type","style","class","data-index","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter","onClick","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting"])))),128))])):r("v-if",!0),u(e.$slots,"default",{},void 0,!0),v.cancelText?(s(),n(c,{key:3},[h("div",{class:"press-action-sheet__gap"}),h("div",{class:"press-action-sheet__cancel","hover-class":"press-action-sheet__cancel--hover","hover-stay-time":"70",onClick:y[0]||(y[0]=(...e)=>_.onCancel&&_.onCancel(...e))},i(v.cancelText),1)],64)):r("v-if",!0)])),_:3},8,["show","round","z-index","overlay","safe-area-inset-bottom","close-on-click-overlay","onClose"])}],["__scopeId","data-v-08dd8a8a"]]);export{x as P};
