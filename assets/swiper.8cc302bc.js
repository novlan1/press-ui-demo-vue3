import{i as t}from"./utils.af51e914.js";import{Z as e,$ as n,a0 as a,a1 as r,a2 as i,a3 as o,F as l,a4 as u,h as s,a5 as c,a6 as d,B as p,a7 as f,a8 as v,a9 as g,aa as m,ab as h,V as y,ac as w,C as x}from"./index-ea4fd344.js";function I(t){return e({},t.dataset,t.__uniDataset)}function M(t){return/^-?\d+[ur]px$/i.test(t)?t.replace(/(^-?\d+)[ur]px$/i,((t,e)=>`${parseFloat(e)}px`)):/^-?[\d\.]+$/.test(t)?`${t}px`:t||""}function b(t){const e=t.animation;if(!e||!e.actions||!e.actions.length)return;let n=0;const a=e.actions,r=e.actions.length;function i(){const e=a[n],o=e.option.transition,l=function(t){const e=["matrix","matrix3d","scale","scale3d","rotate3d","skew","translate","translate3d"],n=["scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","translateX","translateY","translateZ"],a=["opacity","background-color"],r=["width","height","left","right","top","bottom"],i=t.animates,o=t.option,l=o.transition,u={},s=[];return i.forEach((t=>{let i=t.type,o=[...t.args];if(e.concat(n).includes(i))i.startsWith("rotate")||i.startsWith("skew")?o=o.map((t=>parseFloat(t)+"deg")):i.startsWith("translate")&&(o=o.map(M)),n.indexOf(i)>=0&&(o.length=1),s.push(`${i}(${o.join(",")})`);else if(a.concat(r).includes(o[0])){i=o[0];const t=o[1];u[i]=r.includes(i)?M(t):t}})),u.transform=u.webkitTransform=s.join(" "),u.transition=u.webkitTransition=Object.keys(u).map((t=>`${function(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)).replace("webkit","-webkit")}(t)} ${l.duration}ms ${l.timingFunction} ${l.delay}ms`)).join(","),u.transformOrigin=u.webkitTransformOrigin=o.transformOrigin,u}(e);Object.keys(l).forEach((e=>{t.$el.style[e]=l[e]})),n+=1,n<r&&setTimeout(i,o.duration+o.delay)}setTimeout((()=>{i()}),0)}const _={props:["animation"],watch:{animation:{deep:!0,handler(){b(this)}}},mounted(){b(this)}},k=t=>{t.__reserved=!0;const{props:e,mixins:n}=t;return e&&e.animation||(n||(t.mixins=[])).push(_),T(t)},T=t=>(t.__reserved=!0,t.compatConfig={MODE:3},n(t));function S(t,e){return(n,a,r)=>{t.value&&e(n,function(t,e,n,a){let r;return r=n,r=function(t){const{id:e,offsetTop:n,offsetLeft:a}=t;return{id:e,dataset:I(t),offsetTop:n,offsetLeft:a}}(n),{type:a.type||t,timeStamp:e.timeStamp||0,target:r,currentTarget:r,detail:a}}(n,a,t.value,r||{}))}}const C=function(t,e,n,a){t.addEventListener(e,(t=>{r(n)&&!1===n(t)&&((void 0===t.cancelable||t.cancelable)&&t.preventDefault(),t.stopPropagation())}),{passive:!1})};let $,E;function B(t){const e=[];return i(t)&&t.forEach((t=>{o(t)?t.type===l?e.push(...B(t.children)):e.push(t):i(t)&&e.push(...B(t))})),e}function X(t){return-1!==(t+="").indexOf("rpx")||-1!==t.indexOf("upx")}function Y(t,e=!1){if(e)return function(t){if(!X(t))return t;return t.replace(/(\d+(\.\d+)?)[ru]px/g,((t,e)=>parseFloat(e)+"px"))}(t);if(u(t)){const e=parseInt(t)||0;return X(t),e}return t}function D(t,e,n,r,i,o){function l(){c&&(clearTimeout(c),c=null)}let u,s,c=null,p=!0,f=0,g=1,y=null,w=!1,x=0,I="";const M=d((()=>n.value.length>e.displayMultipleItems)),b=d((()=>t.circular&&M.value));function _(a){Math.floor(2*f)===Math.floor(2*a)&&Math.ceil(2*f)===Math.ceil(2*a)||b.value&&function(a){if(!p)for(let r=n.value,i=r.length,o=a+e.displayMultipleItems,l=0;l<i;l++){const e=r[l],n=Math.floor(a/i)*i+l,u=n+i,s=n-i,c=Math.max(a-(n+1),n-o,0),d=Math.max(a-(u+1),u-o,0),p=Math.max(a-(s+1),s-o,0),f=Math.min(c,d,p),v=[n,u,s][[c,d,p].indexOf(f)];e.updatePosition(v,t.vertical)}}(a);const i=`translate(${t.vertical?"0":100*-a*g+"%"}, ${t.vertical?100*-a*g+"%":"0"}) translateZ(0)`,l=r.value;if(l&&(l.style.webkitTransform=i,l.style.transform=i),f=a,!u){if(a%1==0)return;u=a}a-=Math.floor(u);const s=n.value;a<=-(s.length-1)?a+=s.length:a>=s.length&&(a-=s.length),a=u%1>.5||u<0?a-1:a,o("transition",{},{dx:t.vertical?0:a*l.offsetWidth,dy:t.vertical?a*l.offsetHeight:0})}function k(t){const{length:a}=n.value;if(!a)return-1;const r=(Math.round(t)%a+a)%a;if(b.value){if(a<=e.displayMultipleItems)return 0}else if(r>a-e.displayMultipleItems)return a-e.displayMultipleItems;return r}function T(){y=null}function S(){if(!y)return void(w=!1);const t=y,{toPos:a}=t,{acc:r}=t,{endTime:i}=t,{source:l}=t,c=i-Date.now();if(c<=0){_(a),y=null,w=!1,u=null;const t=n.value[e.current];if(t){const n=t.getItemId();o("animationfinish",{},{current:e.current,currentItemId:n,source:l})}return}_(a+r*c*c/2),s=requestAnimationFrame(S)}function B(t,a,r){T();const{duration:i}=e,{length:o}=n.value;let l=f;if(b.value)if(r<0){for(;l<t;)l+=o;for(;l-o>t;)l-=o}else if(r>0){for(;l>t;)l-=o;for(;l+o<t;)l+=o;l+o-t<t-l&&(l+=o)}else{for(;l+o<t;)l+=o;for(;l-o>t;)l-=o;l+o-t<t-l&&(l+=o)}else"click"===a&&(t=t+e.displayMultipleItems-1<o?t:0);y={toPos:t,acc:2*(l-t)/(i*i),endTime:Date.now()+i,source:a},w||(w=!0,s=requestAnimationFrame(S))}function X(){l();const t=n.value,a=function(){c=null,I="autoplay",b.value?e.current=k(e.current+1):e.current=e.current+e.displayMultipleItems<t.length?e.current+1:0,B(e.current,"autoplay",b.value?1:0),c=setTimeout(a,e.interval)};p||t.length<=e.displayMultipleItems||(c=setTimeout(a,e.interval))}function Y(t){t?X():l()}return m([()=>t.current,()=>t.currentItemId,()=>[...n.value]],(()=>{let a=-1;if(t.currentItemId)for(let e=0,r=n.value;e<r.length;e++){if(r[e].getItemId()===t.currentItemId){a=e;break}}a<0&&(a=Math.round(t.current)||0),a=a<0?0:a,e.current!==a&&(I="",e.current=a)})),m([()=>t.vertical,()=>b.value,()=>e.displayMultipleItems,()=>[...n.value]],(function(){l(),y&&(_(y.toPos),y=null);const a=n.value;for(let e=0;e<a.length;e++)a[e].updatePosition(e,t.vertical);g=1;const i=r.value;if(1===e.displayMultipleItems&&a.length){const t=a[0].getBoundingClientRect(),e=i.getBoundingClientRect();g=t.width/e.width,g>0&&g<1||(g=1)}const o=f;f=-2;const{current:u}=e;u>=0?(p=!1,e.userTracking?(_(o+u-x),x=u):(_(u),t.autoplay&&X())):(p=!0,_(-e.displayMultipleItems-1))})),m((()=>e.interval),(()=>{c&&(l(),X())})),m((()=>e.current),((t,a)=>{!function(t,a){const r=I;I="";const i=n.value;if(!r){const{length:e}=i;B(t,"",b.value&&a+(e-t)%e>e/2?1:0)}const l=i[t];if(l){e.currentItemId=l.getItemId();const{currentItemId:t}=e;o("change",{},{current:e.current,currentItemId:t,source:r})}}(t,a),i("update:current",t)})),m((()=>e.currentItemId),(t=>{i("update:currentItemId",t)})),m((()=>t.autoplay&&!e.userTracking),Y),Y(t.autoplay&&!e.userTracking),v((()=>{let i=!1,o=0,u=0;function s(t){e.userTracking=!1;const n=o/Math.abs(o);let a=0;!t&&Math.abs(o)>.2&&(a=.5*n);const r=k(f+a);t?_(x):(I="touch",e.current=r,B(r,"touch",0!==a?a:0===r&&b.value&&f>=1?1:0))}!function(t,e,n){a((()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",E)}));let r=0,i=0,o=0,l=0;const u=function(t,n,a,u){if(!1===e({cancelable:t.cancelable,target:t.target,currentTarget:t.currentTarget,preventDefault:t.preventDefault.bind(t),stopPropagation:t.stopPropagation.bind(t),touches:t.touches,changedTouches:t.changedTouches,detail:{state:n,x:a,y:u,dx:a-r,dy:u-i,ddx:a-o,ddy:u-l,timeStamp:t.timeStamp}}))return!1};let s,c,d=null;C(t,"touchstart",(function(t){if(s=!0,1===t.touches.length&&!d)return d=t,r=o=t.touches[0].pageX,i=l=t.touches[0].pageY,u(t,"start",r,i)})),C(t,"mousedown",(function(t){if(c=!0,!s&&!d)return d=t,r=o=t.pageX,i=l=t.pageY,u(t,"start",r,i)})),C(t,"touchmove",(function(t){if(1===t.touches.length&&d){const e=u(t,"move",t.touches[0].pageX,t.touches[0].pageY);return o=t.touches[0].pageX,l=t.touches[0].pageY,e}}));const p=$=function(t){if(!s&&c&&d){const e=u(t,"move",t.pageX,t.pageY);return o=t.pageX,l=t.pageY,e}};document.addEventListener("mousemove",p),C(t,"touchend",(function(t){if(0===t.touches.length&&d)return s=!1,d=null,u(t,"end",t.changedTouches[0].pageX,t.changedTouches[0].pageY)}));const f=E=function(t){if(c=!1,!s&&d)return d=null,u(t,"end",t.pageX,t.pageY)};document.addEventListener("mouseup",f),C(t,"touchcancel",(function(t){if(d){s=!1;const e=d;return d=null,u(t,"end",e.touches[0].pageX,e.touches[0].pageY)}}))}(r.value,(a=>{if(!t.disableTouch&&!p){if("start"===a.detail.state)return e.userTracking=!0,i=!1,l(),x=f,o=0,u=Date.now(),void T();if("end"===a.detail.state)return s(!1);if("cancel"===a.detail.state)return s(!0);if(e.userTracking){if(!i){i=!0;const n=Math.abs(a.detail.dx),r=Math.abs(a.detail.dy);if((n>=r&&t.vertical||n<=r&&!t.vertical)&&(e.userTracking=!1),!e.userTracking)return void(t.autoplay&&X())}return function(a){const i=u;u=Date.now();const{length:l}=n.value,s=l-e.displayMultipleItems;function c(t){return.5-.25/(t+.5)}function d(t,e){let n=x+t;o=.6*o+.4*e,b.value||(n<0||n>s)&&(n<0?n=-c(-n):n>s&&(n=s+c(n-s)),o=0),_(n)}const p=u-i||1,f=r.value;t.vertical?d(-a.dy/f.offsetHeight,-a.ddy/p):d(-a.dx/f.offsetWidth,-a.ddx/p)}(a.detail),!1}}}))})),h((()=>{l(),cancelAnimationFrame(s)})),{onSwiperDotClick:function(t){B(e.current=t,I="click",b.value?1:0)},circularEnabled:b,swiperEnabled:M}}const L=k({name:"Swiper",props:{indicatorDots:{type:[Boolean,String],default:!1},vertical:{type:[Boolean,String],default:!1},autoplay:{type:[Boolean,String],default:!1},circular:{type:[Boolean,String],default:!1},interval:{type:[Number,String],default:5e3},duration:{type:[Number,String],default:500},current:{type:[Number,String],default:0},indicatorColor:{type:String,default:""},indicatorActiveColor:{type:String,default:""},previousMargin:{type:String,default:""},nextMargin:{type:String,default:""},currentItemId:{type:String,default:""},skipHiddenItemLayout:{type:[Boolean,String],default:!1},displayMultipleItems:{type:[Number,String],default:1},disableTouch:{type:[Boolean,String],default:!1},navigation:{type:[Boolean,String],default:!1},navigationColor:{type:String,default:"#fff"},navigationActiveColor:{type:String,default:"rgba(53, 53, 53, 0.6)"}},emits:["change","transition","animationfinish","update:current","update:currentItemId"],setup(t,{slots:e,emit:n}){const a=c(null),r=S(a,n),i=c(null),o=c(null),l=function(t){const e=d((()=>{const e=Number(t.interval);return isNaN(e)?5e3:e})),n=d((()=>{const e=Number(t.duration);return isNaN(e)?500:e})),a=d((()=>{const e=Math.round(t.displayMultipleItems);return isNaN(e)?1:e}));return g({interval:e,duration:n,displayMultipleItems:a,current:Math.round(t.current)||0,currentItemId:t.currentItemId,userTracking:!1})}(t),u=d((()=>{let e={};return(t.nextMargin||t.previousMargin)&&(e=t.vertical?{left:0,right:0,top:Y(t.previousMargin,!0),bottom:Y(t.nextMargin,!0)}:{top:0,bottom:0,left:Y(t.previousMargin,!0),right:Y(t.nextMargin,!0)}),e})),f=d((()=>{const e=`${Math.abs(100/l.displayMultipleItems)}%`;return{width:t.vertical?"100%":e,height:t.vertical?e:"100%"}}));let v=[];const m=[],h=c([]);function y(){const t=[];for(let e=0;e<v.length;e++){let n=v[e];n instanceof Element||(n=n.el);const a=m.find((t=>n===t.rootRef.value));a&&t.push(w(a))}h.value=t}p("addSwiperContext",(function(t){m.push(t),y()}));p("removeSwiperContext",(function(t){const e=m.indexOf(t);e>=0&&(m.splice(e,1),y())}));const{onSwiperDotClick:x,circularEnabled:I,swiperEnabled:M}=D(t,l,h,o,n,r);let b=()=>null;return b=N(a,t,l,x,h,I,M),()=>{const n=e.default&&e.default();return v=B(n),s("div",{ref:a,class:"swiper-next"},[s("div",{ref:i,class:"swiper-next__wrapper"},[s("div",{class:"swiper-next__slides",style:u.value},[s("div",{ref:o,class:"swiper-next__slide-frame",style:f.value},[n])]),t.indicatorDots&&s("div",{class:["swiper-next__dots",t.vertical?"swiper-next__dots-vertical":"swiper-next__dots-horizontal"]},[h.value.map(((e,n,a)=>s("div",{onClick:()=>x(n),class:{"swiper-next__dot":!0,"swiper-next__dot-active":n<l.current+l.displayMultipleItems&&n>=l.current||n<l.current+l.displayMultipleItems-a.length},style:{background:n===l.current?t.indicatorActiveColor:t.indicatorColor}},null)))]),b()])])}}}),N=(t,n,a,r,i,o,u)=>{let d=!1,p=!1,g=!1;const m=c(!1);function h(t,e){const a=t.currentTarget;a&&(a.style.backgroundColor="over"===e?n.navigationActiveColor:"")}f((()=>{d="auto"===n.navigation,m.value=!0!==n.navigation||d,k()})),f((()=>{const t=i.value.length,e=!o.value;p=0===a.current&&e,g=a.current===t-1&&e||e&&a.current+a.displayMultipleItems>=t,u.value||(p=!0,g=!0,d&&(m.value=!0))}));const w={onMouseover:t=>h(t,"over"),onMouseout:t=>h(t,"out")};function x(t,e,n){if(t.stopPropagation(),n)return;const l=i.value.length;let u=a.current;switch(e){case"prev":u--,u<0&&o.value&&(u=l-1);break;case"next":u++,u>=l&&o.value&&(u=0)}r(u)}const I=()=>function(t,e="#000",n=27){return s("svg",{width:n,height:n,viewBox:"0 0 32 32"},[s("path",{d:t,fill:e},null,8,["d","fill"])],8,["width","height"])}("M21.781 7.844l-9.063 8.594 9.063 8.594q0.25 0.25 0.25 0.609t-0.25 0.578q-0.25 0.25-0.578 0.25t-0.578-0.25l-9.625-9.125q-0.156-0.125-0.203-0.297t-0.047-0.359q0-0.156 0.047-0.328t0.203-0.297l9.625-9.125q0.25-0.25 0.578-0.25t0.578 0.25q0.25 0.219 0.25 0.578t-0.25 0.578z",n.navigationColor,26);let M;const b=e=>{clearTimeout(M);const{clientX:a,clientY:r}=e,{left:i,right:o,top:l,bottom:u,width:s,height:c}=t.value.getBoundingClientRect();let d=!1;if(d=n.vertical?!(r-l<c/3||u-r<c/3):!(a-i<s/3||o-a<s/3),d)return M=setTimeout((()=>{m.value=d}),300);m.value=d},_=()=>{m.value=!0};function k(){t.value&&(t.value.removeEventListener("mousemove",b),t.value.removeEventListener("mouseleave",_),d&&(t.value.addEventListener("mousemove",b),t.value.addEventListener("mouseleave",_)))}return v(k),function(){const t={"swiper-next__navigation-hide":m.value,"swiper-next__navigation-vertical":n.vertical};return n.navigation?s(l,null,[s("div",y({class:["swiper-next__navigation swiper-next__navigation-prev",e({"swiper-next__navigation-disabled":p},t)],onClick:t=>x(t,"prev",p)},w),[I()]),s("div",y({class:["swiper-next__navigation swiper-next__navigation-next",e({"swiper-next__navigation-disabled":g},t)],onClick:t=>x(t,"next",g)},w),[I()])]):null}},O=function(t){return t.install=function(e){e.component(t.name)||e.component(t.name,t)},t};function P(t){return t.install=function(e){e.component(t.name,t)},t}const q=P(L);O(L);const A=k({name:"SwiperItem",props:{itemId:{type:String,default:""}},setup(t,{slots:e}){const n=c(null),a={rootRef:n,getItemId:()=>t.itemId,getBoundingClientRect:()=>n.value.getBoundingClientRect(),updatePosition(t,e){const a=e?"0":100*t+"%",r=e?100*t+"%":"0",i=n.value,o=`translate(${a},${r}) translateZ(0)`;i&&(i.style.webkitTransform=o,i.style.transform=o)}};return v((()=>{const t=x("addSwiperContext");t&&t(a)})),h((()=>{const t=x("removeSwiperContext");t&&t(a)})),()=>s("div",{ref:n,style:{position:"absolute",width:"100%",height:"100%"},class:"swiper-next-item"},[e.default&&e.default()])}}),F=P(A);O(A);let j={};t()&&(j={Swiper:q,SwiperItem:F});const R={components:{...j}};export{R as S};
