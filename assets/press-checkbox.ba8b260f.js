import{u as e}from"./utils.527a09c0.js";import{P as s}from"./press-icon-plus.6056b7b8.js";import{d as t,a}from"./press-component.d8ea5855.js";import{C as l}from"./relation.25345683.js";import{s as i}from"./style.0f94ff97.js";import{a as o}from"./add-unit.9c7267ae.js";import{a as n}from"./parent-map.dcad3672.js";import{f as c}from"./parent.59fa8a22.js";import{_ as r,o as d,c as u,n as h,m,l as p,e as b,h as f,p as C,j as y}from"./index-38a6aa88.js";const g={iconStyle:function(e,s,t,a,l){const n={"font-size":o(l),"line-height":"1.25em"};return e&&s&&!t&&!a&&(n["border-color"]=e,n["background-color"]=e),i(n)}};function k(e,s){e.$emit("input",s),e.$emit("change",s)}const S=r({name:"PressCheckbox",options:{...t},components:{PressIconPlus:s},mixins:[l(n)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:String,default:""},...a},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{innerLabelClass(){const{labelClass:s,labelPosition:t,disabled:a,parentDisabled:l}=this;return`${s} ${e.bem2("checkbox__label",[t,{disabled:a||l}])}`},checkboxClass(){const{direction:s,customClass:t}=this;return`${e.bem2("checkbox",[{horizontal:"horizontal"===s}])} ${t}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:l}=this;return g.iconStyle(e,s,t,a,l)},innerIconClass(){const{shape:s,disabled:t,parentDisabled:a,dataValue:l}=this;return`${e.bem2("checkbox__icon",[s,{disabled:t||a,checked:l}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle:()=>"line-height: 1.25em;"},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[n]&&this[n].updateChildren()},setData(e){Object.keys(e).forEach((s=>{this[s]=e[s]}))},emitChange(e){this[n]?this.setParentValue(this[n],e):k(this,e),this.$nextTick((()=>{c(this,"change")}))},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;s||e||this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;t||e||s||this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:l}=e;if(s){if(l&&t.length>=l)return;-1===t.indexOf(a)&&(t.push(a),k(e,t))}else{const s=t.indexOf(a);-1!==s&&(t.splice(s,1),k(e,t))}}}},[["render",function(e,s,t,a,l,i){const o=y("press-icon-plus");return d(),u("div",{class:h(i.checkboxClass),style:C(t.customStyle)},["left"===t.labelPosition?(d(),u("div",{key:0,class:h(i.innerLabelClass),onClick:s[0]||(s[0]=(...e)=>i.onClickLabel&&i.onClickLabel(...e))},[m(e.$slots,"default",{},void 0,!0)],2)):p("v-if",!0),b("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=(...e)=>i.toggle&&i.toggle(...e))},[t.useIconSlot?m(e.$slots,"icon",{key:0},void 0,!0):(d(),f(o,{key:1,name:"success",size:"0.8em",style:C(i.iconStyle),class:h(i.innerIconClass),"custom-class":i.iconCustomClass,"custom-style":i.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),"right"===t.labelPosition?(d(),u("div",{key:1,class:h(i.innerLabelClass),onClick:s[2]||(s[2]=(...e)=>i.onClickLabel&&i.onClickLabel(...e))},[m(e.$slots,"default",{},void 0,!0)],2)):p("v-if",!0)],6)}],["__scopeId","data-v-de3f298d"]]);export{S as P};
