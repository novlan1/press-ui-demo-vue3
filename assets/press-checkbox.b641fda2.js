import{u as e}from"./utils.af51e914.js";import{P as s}from"./press-icon-plus.f1d8042d.js";import{d as t,a}from"./press-component.45fcd844.js";import{C as i}from"./relation.8b10893c.js";import{s as l}from"./style.0f94ff97.js";import{a as o,n}from"./add-unit.856043c8.js";import{a as c}from"./parent-map.b443f4cc.js";import{f as r}from"./parent.59fa8a22.js";import{_ as d,o as u,c as h,n as m,x as p,r as b,f,i as C,q as y,j as g,e as k}from"./index-ea4fd344.js";const S={iconStyle:function(e,s,t,a,i){const n={"font-size":o(i),"line-height":"1.25em"};return e&&s&&!t&&!a&&(n["border-color"]=e,n["background-color"]=e),l(n)}};function v(e,s){e.$emit("input",s),e.$emit("change",s)}const x=d({name:"PressCheckbox",options:{...t},components:{PressIconPlus:s},mixins:[i(c)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:String,default:""},...a},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{innerLabelClass(){const{labelClass:s,labelPosition:t,disabled:a,parentDisabled:i}=this;return`${s} ${e.bem2("checkbox__label",[t,{disabled:a||i}])}`},checkboxClass(){const{direction:s,customClass:t}=this;return`${e.bem2("checkbox",[{horizontal:"horizontal"===s}])} ${t}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:i}=this;return S.iconStyle(e,s,t,a,i)},innerIconClass(){const{shape:s,disabled:t,parentDisabled:a,dataValue:i}=this;return`${e.bem2("checkbox__icon",[s,{disabled:t||a,checked:i}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle:()=>"line-height: 1.25em;"},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[c]&&this[c].updateChildren()},setData(e){Object.keys(e).forEach((s=>{this[s]=e[s]}))},emitChange(e){this[c]?this.setParentValue(this[c],e):v(this,e),n((()=>{r(this,"change")}))},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;s||e||this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;t||e||s||this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:i}=e;if(s){if(i&&t.length>=i)return;-1===t.indexOf(a)&&(t.push(a),v(e,t))}else{const s=t.indexOf(a);-1!==s&&(t.splice(s,1),v(e,t))}}}},[["render",function(e,s,t,a,i,l){const o=k("press-icon-plus");return u(),h("div",{class:m(l.checkboxClass),style:g(t.customStyle)},["left"===t.labelPosition?(u(),h("div",{key:0,class:m(l.innerLabelClass),onClick:s[0]||(s[0]=p(((...e)=>l.onClickLabel&&l.onClickLabel(...e)),["stop"]))},[b(e.$slots,"default",{},void 0,!0)],2)):f("v-if",!0),C("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=p(((...e)=>l.toggle&&l.toggle(...e)),["stop"]))},[t.useIconSlot?b(e.$slots,"icon",{key:0},void 0,!0):(u(),y(o,{key:1,name:"success",size:"0.8em",style:g(l.iconStyle),class:m(l.innerIconClass),"custom-class":l.iconCustomClass,"custom-style":l.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),"right"===t.labelPosition?(u(),h("div",{key:1,class:m(l.innerLabelClass),onClick:s[2]||(s[2]=p(((...e)=>l.onClickLabel&&l.onClickLabel(...e)),["stop"]))},[b(e.$slots,"default",{},void 0,!0)],2)):f("v-if",!0)],6)}],["__scopeId","data-v-7da97827"]]);export{x as P};
