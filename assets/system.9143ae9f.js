import{g as t}from"./index-d9d977eb.js";import{P as e}from"./event.734015e4.js";import{i as o}from"./utils.f15184e6.js";function n(t){return new Promise((function(e,o){var n=document.getElementById("#clipboard");null==n||n.remove();var r=document.createElement("textarea");r.id="#clipboard",r.style.position="fixed",r.style.top="-9999px",r.style.zIndex="-9999",document.body.appendChild(r),r.value="".concat(t),r.select(),r.setSelectionRange(0,r.value.length);var i=document.execCommand("Copy",!1);r.blur(),i?e():o()}))}const r={customClass:{type:String,default:""}},i={multipleSlots:!0,addGlobalClass:!0};function s(t){return void 0===t?"":Array.isArray(t)?t.filter((t=>null!=t&&""!==t)).map((t=>s(t))).join(";"):"string"==typeof t?t:Object.keys(t).filter((e=>null!=t[e]&&""!==t[e])).map((e=>{return[(o=e,o.replace(/[A-Z]/g,(t=>`-${t}`)).toLowerCase()),[t[e]]].join(":");var o})).join(";")}const l={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function a(t){return!!l[t]&&(e=l[t],window.CSS&&CSS.supports&&(CSS.supports(e)||CSS.supports.apply(CSS,e.split(":"))));var e}const c=["top","left","right","bottom"],p={},u=[];let d,f;function h(){return f="CSS"in window&&"function"==typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",f}function m(t,e){const o=t.style;Object.keys(e).forEach((t=>{const n=e[t];o[t]=n}))}const g=[];function y(t){t?g.push(t):g.forEach((t=>{t()}))}function v(){if(f="string"==typeof f?f:h(),!f)return void c.forEach((t=>{p[t]=0}));function t(t,o){const n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),l=1e4,a={position:"absolute",width:"100px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:`${f}(safe-area-inset-${o})`};m(n,a),m(r,a),m(i,{transition:"0s",animation:"none",width:"400px",height:"400px"}),m(s,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(i),r.appendChild(s),t.appendChild(n),t.appendChild(r),y((()=>{r.scrollTop=l,n.scrollTop=l;let t=n.scrollTop,i=r.scrollTop;function s(){this.scrollTop!==(this===n?t:i)&&(r.scrollTop=l,n.scrollTop=l,t=n.scrollTop,i=r.scrollTop,function(t){S.length||setTimeout((()=>{const t={};S.forEach((e=>{t[e]=p[e]})),S.length=0,u.forEach((e=>{e(t)}))}),0);S.push(t)}(o))}n.addEventListener("scroll",s,e),r.addEventListener("scroll",s,e)}));const c=getComputedStyle(n);Object.defineProperty(p,o,{configurable:!0,get:()=>parseFloat(c.paddingBottom)})}const o=document.createElement("div");m(o,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),c.forEach((e=>{t(o,e)})),document.body.appendChild(o),y(),d=!0}function b(t){return d||v(),p[t]}const S=[];const w={get support(){return 0!=("string"==typeof f?f:h()).length},get top(){return b("top")},get left(){return b("left")},get right(){return b("right")},get bottom(){return b("bottom")},onChange:function(t){h()&&(d||v(),"function"==typeof t&&u.push(t))},offChange:function(t){const e=u.indexOf(t);e>=0&&u.splice(e,1)}};let C={};function x(){if(o())return 0;const{statusBarHeight:t}=function(){try{Object.keys(C).length||"undefined"==typeof uni||("function"==typeof uni.getWindowInfo?C=uni.getWindowInfo():"function"==typeof uni.getSystemInfoSync&&(C=uni.getSystemInfoSync()))}catch(t){console.log("[getAppBaseInfo] err",t)}return C}();return t}function E(e,o,n=!1){return new Promise((r=>{const i=null==e?void 0:e.$el;let s=null==i?void 0:i.querySelector(o);if(!s&&n&&(s=document.querySelector(o)),s){const e=s.getBoundingClientRect()||{},{top:o}=function(){if(a("css.var")){const{style:t}=document.documentElement,e=parseInt((t.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),o=parseInt((t.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),n=parseInt((t.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),r=parseInt((t.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),i=parseInt((t.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(e?e+w.top:0)+(i||0),bottom:o?o+w.bottom:0,left:n?n+w.left:0,right:r?r+w.right:0}}let e=0;const o=t();if(o.length){const t=o[o.length-1].$parent.$parent.navigationBar.type;e="default"===t||"float"===t?44:0}return{top:e,bottom:0,left:0,right:0}}();let n={left:e.left,right:e.right,width:e.width,height:e.height,x:e.x,y:e.y,top:e.top,bottom:e.bottom};n={...n,top:e.top-o,bottom:e.bottom-o},r(n)}else r({})}))}function I(t){return setTimeout((()=>{t()}),1e3/30)}export{r as a,x as b,n as c,i as d,E as g,I as r,s};
