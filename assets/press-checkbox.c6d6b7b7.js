import{u as e}from"./utils.f3a02060.js";import{P as s}from"./press-icon-plus.f022b3d4.js";import{d as t,a}from"./press-component.eba5df15.js";import{C as i}from"./relation.8b10893c.js";import{s as l}from"./style.0f94ff97.js";import{a as o}from"./add-unit.2bb66264.js";import{a as n}from"./parent-map.b443f4cc.js";import{f as c}from"./parent.59fa8a22.js";import{_ as r,o as d,c as u,n as h,z as m,r as p,e as b,h as f,x as C,i as y,j as g}from"./index-ab3b137a.js";const k={iconStyle:function(e,s,t,a,i){const n={"font-size":o(i),"line-height":"1.25em"};return e&&s&&!t&&!a&&(n["border-color"]=e,n["background-color"]=e),l(n)}};function S(e,s){e.$emit("input",s),e.$emit("change",s)}const v=r({name:"PressCheckbox",options:{...t},components:{PressIconPlus:s},mixins:[i(n)],field:!0,props:{name:{type:String,default:""},value:Boolean,disabled:Boolean,useIconSlot:Boolean,checkedColor:{type:String,default:""},labelPosition:{type:String,default:"right"},labelDisabled:Boolean,shape:{type:String,default:"round"},iconSize:{type:[Number],default:20},iconClass:{type:String,default:""},labelClass:{type:String,default:""},customStyle:{type:String,default:""},...a},emits:["input","change"],data(){return{parentDisabled:!1,direction:"vertical",dataValue:this.value}},computed:{innerLabelClass(){const{labelClass:s,labelPosition:t,disabled:a,parentDisabled:i}=this;return`${s} ${e.bem2("checkbox__label",[t,{disabled:a||i}])}`},checkboxClass(){const{direction:s,customClass:t}=this;return`${e.bem2("checkbox",[{horizontal:"horizontal"===s}])} ${t}`},iconStyle(){const{checkedColor:e,value:s,disabled:t,parentDisabled:a,iconSize:i}=this;return k.iconStyle(e,s,t,a,i)},innerIconClass(){const{shape:s,disabled:t,parentDisabled:a,dataValue:i}=this;return`${e.bem2("checkbox__icon",[s,{disabled:t||a,checked:i}])}`},iconCustomClass(){return this.iconClass},iconCustomStyle:()=>"line-height: 1.25em;"},watch:{value:{handler(e){this.dataValue=!!e}}},mounted(){this.update()},methods:{update(){this[n]&&this[n].updateChildren()},setData(e){Object.keys(e).forEach((s=>{this[s]=e[s]}))},emitChange(e){this[n]?this.setParentValue(this[n],e):S(this,e),this.$nextTick((()=>{c(this,"change")}))},toggle(){const{parentDisabled:e,disabled:s,dataValue:t}=this;s||e||this.emitChange(!t)},onClickLabel(){const{labelDisabled:e,parentDisabled:s,disabled:t,dataValue:a}=this;t||e||s||this.emitChange(!a)},setParentValue(e,s){const t=e.value.slice(),{name:a}=this,{max:i}=e;if(s){if(i&&t.length>=i)return;-1===t.indexOf(a)&&(t.push(a),S(e,t))}else{const s=t.indexOf(a);-1!==s&&(t.splice(s,1),S(e,t))}}}},[["render",function(e,s,t,a,i,l){const o=g("press-icon-plus");return d(),u("div",{class:h(l.checkboxClass),style:y(t.customStyle)},["left"===t.labelPosition?(d(),u("div",{key:0,class:h(l.innerLabelClass),onClick:s[0]||(s[0]=m(((...e)=>l.onClickLabel&&l.onClickLabel(...e)),["stop"]))},[p(e.$slots,"default",{},void 0,!0)],2)):b("v-if",!0),f("div",{class:"press-checkbox__icon-wrap",onClick:s[1]||(s[1]=m(((...e)=>l.toggle&&l.toggle(...e)),["stop"]))},[t.useIconSlot?p(e.$slots,"icon",{key:0},void 0,!0):(d(),C(o,{key:1,name:"success",size:"0.8em",style:y(l.iconStyle),class:h(l.innerIconClass),"custom-class":l.iconCustomClass,"custom-style":l.iconCustomStyle},null,8,["style","class","custom-class","custom-style"]))]),"right"===t.labelPosition?(d(),u("div",{key:1,class:h(l.innerLabelClass),onClick:s[2]||(s[2]=m(((...e)=>l.onClickLabel&&l.onClickLabel(...e)),["stop"]))},[p(e.$slots,"default",{},void 0,!0)],2)):b("v-if",!0)],6)}],["__scopeId","data-v-a4606c78"]]);export{v as P};
